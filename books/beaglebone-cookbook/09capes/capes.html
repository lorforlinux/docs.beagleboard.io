
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Capes &#8212; BeagleBoard Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/collapsible-lists/css/tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css?v=5c84f910" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=99f84846" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../../_static/collapsible-lists/js/CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../../../_static/collapsible-lists/js/apply-collapsible-lists.js?v=660e4f45"></script>
    <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js?v=ffc8af2d"></script>
    <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js?v=12818e64"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'books/beaglebone-cookbook/09capes/capes';</script>
    <link rel="canonical" href="docs.beagleboard.io/books/beaglebone-cookbook/09capes/capes.html" />
    <link rel="icon" href="../../../_static/boris.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Parts and Suppliers" href="../10parts/parts.html" />
    <link rel="prev" title="Real-Time I/O" href="../08realtime/realtime.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="Jun 29, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  

    <!-- Top version and announcement message -->
    <script>
        
    // Function to generate version and announcement banner HTML
    function getBannerHTML() {
        return `
            
            <aside id="bd-header-version-warning" class="d-print-none" aria-label="Version warning">
                <div class="bd-header-announcement__content ms-auto me-auto">
                    <div class="sidebar-message">
                        
                        
                        This is an <strong>unknown version</strong> of docs.
                        
                        <a class="btn text-wrap font-weight-bold ms-3 my-1 align-baseline pst-button-link-to-stable-version" href="https://docs.beagleboard.org">
                            Switch to released version
                        </a>
                    </div>
                </div>
            </aside>
            
            
        `;
    }
    
    // Get the target element where the banners will be added
    const bannerDiv = document.getElementsByClassName('pst-async-banner-revealer')[0];

    // Add version banner and announcement banner if bannerDiv is valid
    if (bannerDiv) {
        bannerDiv.innerHTML = getBannerHTML();
    }
    
    </script>

    
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.svg" class="logo__image only-light" alt="BeagleBoard Documentation - Home"/>
    <img src="../../../_static/logo.svg" class="logo__image only-dark pst-js-only" alt="BeagleBoard Documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="ms-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../intro/index.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../boards/index.html">
    Boards
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../projects/index.html">
    Projects
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    Books
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../accessories/index.html">
    Accessories
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://www.beagleboard.org/about">
    About
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://www.beagleboard.org/donate">
    Donate
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://gsoc.beagleboard.org/">
    GSoC
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://forum.beagleboard.org/c/faq">
    FAQ
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://openbeagle.org/" title="OpenBeagle" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-gitlab fa-lg" aria-hidden="true"></i>
            <span class="sr-only">OpenBeagle</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://docs.beagleboard.org/" title="Docs" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-book fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Docs</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://bbb.io/discord" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://forum.beagleboard.org/" title="Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Forum</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.beagleboard.org" title="BeagleBoard.org" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../_static/images/boris.svg" class="icon-link-image" alt="BeagleBoard.org"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  



  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../intro/index.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../boards/index.html">
    Boards
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../projects/index.html">
    Projects
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    Books
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../accessories/index.html">
    Accessories
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://www.beagleboard.org/about">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://www.beagleboard.org/donate">
    Donate
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://gsoc.beagleboard.org/">
    GSoC
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://forum.beagleboard.org/c/faq">
    FAQ
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://openbeagle.org/" title="OpenBeagle" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-gitlab fa-lg" aria-hidden="true"></i>
            <span class="sr-only">OpenBeagle</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://docs.beagleboard.org/" title="Docs" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-book fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Docs</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://bbb.io/discord" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://forum.beagleboard.org/" title="Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Forum</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.beagleboard.org" title="BeagleBoard.org" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../_static/images/boris.svg" class="icon-link-image" alt="BeagleBoard.org"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">BeagleBone Cookbook</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01basics/basics.html">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02sensors/sensors.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03displays/displays.html">Displays and Other Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04motors/motors.html">Motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05tips/tips.html">Beyond the Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06iot/iot.html">Internet of Things</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07kernel/kernel.html">The Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08realtime/realtime.html">Real-Time I/O</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Capes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10parts/parts.html">Parts and Suppliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11misc/misc.html">Misc</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pru-cookbook/index.html">PRU Cookbook</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/01case/case.html">Case Studies - Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/02start/start.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/03details/details.html">Running a Program; Configuring Pins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/04debug/debug.html">Debugging and Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/05blocks/blocks.html">Building Blocks - Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/06io/io.html">Accessing More I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/07more/more.html">More Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/08ai/ai.html">Moving to the BeagleBone AI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pru-cookbook/projects.html">PRU Projects</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
        <div class="sidebar-primary-item"><div class="card mb-3">
    <div class="card-header bg-primary text-light fw-bold">
        Why are we doing this?
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            We believe in making computers open again to democratize technology and empower individuals and organizations to explore, experiment, and create without the constraints of proprietary systems.
        </p>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header bg-warning text-dark fw-bold">
        What are we doing?
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            We design versatile and affordable single-board computers to provide developers, hobbyists, and educators with a platform for prototyping, experimentation, and production of embedded systems. Our comprehensive documentation, tutorials, and vibrant online community support users in their projects and foster knowledge sharing.
        </p>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header bg-success text-light fw-bold">
        How are we doing it?
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            Through open-source hardware designs, diverse software support, and active community engagement, we enable users to customize, innovate, and collaborate effortlessly in embedded computing.
        </p>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header bg-dark text-light fw-bold">
        Support us <i class="fa-solid fa-hand-holding-dollar"></i>
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            The BeagleBoard.org Foundation is a Michigan, USA-based 501(c)(3) non-profit corporation existing to provide education in and collaboration around the design and use of open-source software and hardware in embedded computing.
        </p>
    </div>
    <div class="card-footer d-grid gap-2">
        <a href="https://patreon.com/beagleboard" class="btn btn-danger text-light"><i class="fa-brands fa-patreon"></i> Become a Patreon</a>
        <a href="https://github.com/sponsors/beagleboard" class="btn btn-dark text-light"><i class="fa-brands fa-github"></i> Sponsor on GitHub</a>
    </div>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
<script>

document.addEventListener('DOMContentLoaded', () => {
    // Add primary sidebar toggle button
    const primarySidebar = document.getElementById('pst-primary-sidebar');
    if (primarySidebar) {
        addSidebarToggleButton(
            primarySidebar,
            'primary',
            'sidebar-toggle-btn',
            '<i class="fa-solid fa-caret-left"></i>',
            '<i class="fa-solid fa-caret-right"></i>',
            'after'
        );
    }

    // Add secondary sidebar toggle button
    const secondarySidebar = document.getElementById('pst-secondary-sidebar');
    if (secondarySidebar) {
        addSidebarToggleButton(
            secondarySidebar,
            'secondary',
            'sidebar-toggle-btn',
            '<i class="fa-solid fa-caret-right"></i>',
            '<i class="fa-solid fa-caret-left"></i>',
            'before'
        );
    }

    /**
     * Adds a toggle button for a sidebar with visibility and state management.
     * @param {HTMLElement} sidebar - The sidebar element to toggle.
     * @param {string} key - A unique key for localStorage and button id.
     * @param {string} buttonClass - CSS class for the toggle button.
     * @param {string} collapseHTML - HTML for the button when the sidebar is collapsed.
     * @param {string} expandHTML - HTML for the button when the sidebar is expanded.
     * @param {string} position - Position to insert the button ('before' or 'after').
     */
    function addSidebarToggleButton(sidebar, key, buttonClass, collapseHTML, expandHTML, position) {
        const toggleButton = document.createElement('button');
        toggleButton.id = `toggle-${key}-sidebar`;
        toggleButton.innerHTML = sidebar.classList.contains('collapsed') ? expandHTML : collapseHTML;
        toggleButton.className = buttonClass;

        // Insert the toggle button
        if (position === 'before') {
            sidebar.parentNode.insertBefore(toggleButton, sidebar);
        } else if (position === 'after') {
            sidebar.parentNode.insertBefore(toggleButton, sidebar.nextSibling);
        }

        // Restore collapsed state from localStorage
        const collapsedState = localStorage.getItem(`${key}SidebarCollapsed`) === 'true';
        if (collapsedState) {
            sidebar.classList.add('collapsed');
            toggleButton.innerHTML = expandHTML;
        }

        // Handle toggle button click
        toggleButton.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');

            // Update button content and save state
            if (sidebar.classList.contains('collapsed')) {
                toggleButton.innerHTML = expandHTML;
                localStorage.setItem(`${key}SidebarCollapsed`, 'true');
            } else {
                toggleButton.innerHTML = collapseHTML;
                localStorage.setItem(`${key}SidebarCollapsed`, 'false');
            }
        });

        // Check visibility of the toggle button
        function checkToggleVisibility() {
            const existingToggleButton = document.querySelector(
                `.pst-navbar-icon.sidebar-toggle.${key}-toggle`
            );
            if (existingToggleButton && existingToggleButton.offsetParent !== null) {
                toggleButton.style.display = 'none'; // Hide custom toggle button
            } else {
                toggleButton.style.display = 'block'; // Show custom toggle button
            }
        }

        // Update button visibility if the sidebar is removed
        function updateButtonVisibility() {
            if (window.getComputedStyle(sidebar).display === 'none') {
                toggleButton.remove(); // Remove button if sidebar is hidden
            } else if (!document.querySelector(`#toggle-${key}-sidebar`)) {
                // Re-add the button if missing
                if (position === 'before') {
                    sidebar.parentNode.insertBefore(toggleButton, sidebar);
                } else if (position === 'after') {
                    sidebar.parentNode.insertBefore(toggleButton, sidebar.nextSibling);
                }
            }
        }

        // Initial visibility check
        checkToggleVisibility();
        updateButtonVisibility();

        // Monitor window resize for dynamic button visibility updates
        window.addEventListener('resize', () => {
            checkToggleVisibility();
            updateButtonVisibility();
        });
    }
});

</script>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">Books</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">BeagleBone Cookbook</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Capes</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="capes">
<span id="beaglebone-cookbook-capes"></span><h1>Capes<a class="headerlink" href="#capes" title="Link to this heading">#</a></h1>
<p>Previous chapters of this book show a variety of ways to interface BeagleBone Black
to the physical world by using a breadboard and wiring to the +P8+ and +P9+ headers.
This is a great approach because it’s easy to modify your circuit to debug it or try
new things. At some point, though, you might want a more permanent solution, either
because you need to move the Bone and you don’t want wires coming loose, or because
you want to share your hardware with the masses.</p>
<p>You can easily expand the functionality of the Bone by adding a  <a class="reference external" href="http://bit.ly/1wucweC">cape</a>.
A cape is simply a board–often a printed circuit board (PCB) that connects to the <strong>P8</strong>
and <strong>P9</strong> headers and follows a few standard pin usages. You can stack up to four capes onto the
Bone. Capes can range in size covering a few pins to much larger than the Bone.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Add cape examples of various sizes</p>
</div>
<p>This chapter shows how to attach a couple of capes, move your design to a protoboard, then to a PCB,
and finally on to mass production.</p>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Update display cape example</p>
</div>
<section id="connecting-multiple-capes">
<h2>Connecting Multiple Capes<a class="headerlink" href="#connecting-multiple-capes" title="Link to this heading">#</a></h2>
<section id="problem">
<h3>Problem<a class="headerlink" href="#problem" title="Link to this heading">#</a></h3>
<p>You want to use more than one cape at a time.</p>
</section>
<section id="solution">
<h3>Solution<a class="headerlink" href="#solution" title="Link to this heading">#</a></h3>
<p>First, look at each cape that you want to stack mechanically. Are they all using stacking
headers like the ones shown in <a class="reference internal" href="#capes-stacking-headers"><span class="std std-ref">Stacking headers</span></a>? No more than one should be using non-stacking headers.</p>
<figure class="align-center" id="id24">
<span id="capes-stacking-headers"></span><img alt="" src="../../../_images/stacking_headers.webp" />
<figcaption>
<p><span class="caption-number">Fig. 707 </span><span class="caption-text">Stacking headers</span><a class="headerlink" href="#id24" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Note that larger LCD panels might provide expansion headers, such as the ones
shown in <a class="reference internal" href="#capes-lcd-backside"><span class="std std-ref">LCD Backside</span></a>, rather than the stacking headers, and that those can also be used for adding
additional capes.</p>
</section>
</section>
<section id="lcd-backside">
<span id="capes-lcd-backside"></span><h2>LCD Backside<a class="headerlink" href="#lcd-backside" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Back side of LCD7 cape, <a class="reference internal" href="#capes-lcd-backside"><span class="std std-ref">LCD Backside</span></a> was originally posted by CircuitCo at <a class="reference external" href="http://elinux.org/File:BeagleBone-LCD-Backside.jpg">http://elinux.org/File:BeagleBone-LCD-Backside.jpg</a> under
a <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>#TODO# One of the 4D Systems LCD capes would make a better example for an LCD cape. The CircuitCo cape is no longer available.</p>
</div>
<figure class="align-center">
<img alt="" src="../../../_images/LCD7back.png" />
</figure>
<p>Next, take a note of each pin utilized by each cape.
The <a class="reference external" href="https://beagleboard.org/capes">BeagleBone Capes catalog</a>
provides a graphical representation for the pin usage of most capes, as shown in <a class="reference internal" href="#audio-cape-pins-fig"><span class="std std-ref">Audio cape pins</span></a> for the Circuitco Audio Cape.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>#TODO# Bela would make a better example for an audio cape. The CircuitCo cape is no longer available.</p>
</div>
</section>
<section id="audio-cape-pins">
<span id="audio-cape-pins-fig"></span><h2>Audio cape pins<a class="headerlink" href="#audio-cape-pins" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pins utilized by CircuitCo Audio Cape, <a class="reference internal" href="#audio-cape-pins-fig"><span class="std std-ref">Audio cape pins</span></a> was originally posted by Djackson at <a class="reference external" href="http://elinux.org/File:Audio_pins_revb.png">http://elinux.org/File:Audio_pins_revb.png</a>
under a <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
</div>
<figure class="align-center">
<img alt="CircuitCo Audio Cape" src="../../../_images/audioCape.png" />
</figure>
<p>In most cases, the same pin should never be used on two different capes, though in some cases, pins can be shared. Here are some exceptions:</p>
<ul class="simple">
<li><dl class="simple">
<dt>GND</dt><dd><ul>
<li><p>The ground (<em>GND</em>) pins should be shared between the capes, and there’s no need to worry about consumed resources on those pins.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>VDD_3V3</dt><dd><ul>
<li><p>The 3.3 V power supply (<em>VDD_3V3</em>) pins can be shared by all capes to supply power, but the total combined consumption of all the capes should be less than 500 mA (250 mA per <em>VDD_3V3</em> pin).</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>VDD_5V</dt><dd><p>The 5.0 V power supply (<em>VDD_5V</em>) pins can be shared by all capes to supply power,
but the total combined consumption of all the capes should be less than 2 A (1 A per +VDD_5V+ pin).
It is possible for one, and only one, of the capes to <em>provide</em> power to this pin rather than consume it,
and it should provide at least 3 A to ensure proper system function.
Note that when no voltage is applied to the DC connector, nor from a cape,
these pins will not be powered, even if power is provided via USB.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SYS_5V</dt><dd><p>The regulated 5.0 V power supply (<em>SYS_5V</em>) pins can be shared by all capes to supply power,
but the total combined consumption of all the capes should be less than 500 mA (250 mA per <em>SYS_5V</em> pin).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>VADC and AGND</dt><dd><ul>
<li><p>The ADC reference voltage pins can be shared by all capes.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>I2C2_SCL and I2C2_SDA</dt><dd><ul>
<li><p>I<sup>2</sup>C is a shared bus, and the <em>I2C2_SCL</em> and <em>I2C2_SDA</em> pins default to having this bus enabled for use by cape expansion ID EEPROMs.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="moving-from-a-breadboard-to-a-protoboard">
<span id="capes-soldering"></span><h2>Moving from a Breadboard to a Protoboard<a class="headerlink" href="#moving-from-a-breadboard-to-a-protoboard" title="Link to this heading">#</a></h2>
<section id="id4">
<h3>Problem<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>You have your circuit working fine on the breadboard, but you want a more reliable solution.</p>
</section>
<section id="id5">
<h3>Solution<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>Solder your components to a protoboard.</p>
<p>To make this recipe, you will need:</p>
<ul class="simple">
<li><p>Protoboard</p></li>
<li><p>Soldering iron</p></li>
<li><p>Your other components</p></li>
</ul>
<p>Many places make premade circuit boards that are laid out like the breadboard we have been using.
The <a class="reference external" href="https://www.adafruit.com/product/572">Adafruit Proto Cape Kit</a>
is one protoboard option.</p>
<section id="beaglebone-breadboard">
<span id="capes-beaglebread-fig"></span><h4>BeagleBone Breadboard<a class="headerlink" href="#beaglebone-breadboard" title="Link to this heading">#</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This was originally posted by William
Traynor at <a class="reference external" href="http://elinux.org/File:BeagleBone-Breadboard.jpg">http://elinux.org/File:BeagleBone-Breadboard.jpg</a> under a
<a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a></p>
</div>
<figure class="align-center">
<img alt="BeagleBone Breadboard" src="../../../_images/breadboard.png" />
</figure>
<p>You just solder your parts on the protoboard as you had them on the breadboard.</p>
</section>
</section>
</section>
<section id="creating-a-prototype-schematic">
<span id="capes-creating-prototype-schematic"></span><h2>Creating a Prototype Schematic<a class="headerlink" href="#creating-a-prototype-schematic" title="Link to this heading">#</a></h2>
<section id="id7">
<h3>Problem<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>You’ve wired up a circuit on a breadboard. How do you turn that prototype into a schematic others can read and
that you can import into other design tools?</p>
</section>
<section id="id8">
<h3>Solution<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p>In <a class="reference internal" href="#tips-fritzing"><span class="std std-ref">Fritzing tips</span></a>, we introduced Fritzing as a useful tool for drawing block diagrams. Fritzing can also
do circuit schematics and printed-circuit layout. For example, <a class="reference internal" href="#capes-quickrobo-fig"><span class="std std-ref">A simple robot controller diagram (quickBot.fzz)</span></a> shows a block diagram
for a simple robot controller (quickBot.fzz is the name of the Fritzing file used to create the diagram).</p>
<figure class="align-center" id="id25">
<span id="capes-quickrobo-fig"></span><img alt="Simple robot diagram" src="../../../_images/quickBot_bb.png" />
<figcaption>
<p><span class="caption-number">Fig. 708 </span><span class="caption-text">A simple robot controller diagram (quickBot.fzz)</span><a class="headerlink" href="#id25" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The controller has an H-bridge to drive two DC motors (<a class="reference internal" href="../04motors/motors.html#motors-dcdirection"><span class="std std-ref">Controlling the Speed and Direction of a DC Motor</span></a>), an IR range sensor,
and two headers for attaching analog encoders for the motors. Both the IR sensor and the encoders
have analog outputs that exceed 1.8 V, so each is run through a voltage divider (two resistors) to
scale the voltage to the correct range (see <a class="reference internal" href="../02sensors/sensors.html#sensors-hc-sr04"><span class="std std-ref">Reading a Distance Sensor (Variable Pulse Width Sensor)</span></a> for a voltage divider example).</p>
<p><a class="reference internal" href="#capes-quickrobo-schemraw"><span class="std std-ref">Automatically generated schematic</span></a> shows the schematic automatically generated by Fritzing.
It’s a mess. It’s up to you to fix it.</p>
<figure class="align-center" id="id26">
<span id="capes-quickrobo-schemraw"></span><img alt="Autogenerated schematic" src="../../../_images/quickBot_schemRaw.png" />
<figcaption>
<p><span class="caption-number">Fig. 709 </span><span class="caption-text">Automatically generated schematic</span><a class="headerlink" href="#id26" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#capes-quickrobo-schem"><span class="std std-ref">Cleaned-up schematic</span></a> shows my cleaned-up schematic. I did it by moving the parts around until it looked better.</p>
<figure class="align-center" id="id27">
<span id="capes-quickrobo-schem"></span><img alt="Cleaned up schematic" src="../../../_images/quickBot_schem.png" />
<figcaption>
<p><span class="caption-number">Fig. 710 </span><span class="caption-text">Cleaned-up schematic</span><a class="headerlink" href="#id27" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id28">
<span id="capes-quickrobo-schemzoom"></span><img alt="Zoomed in schematic" src="../../../_images/quickBot_schemZoom.png" />
<figcaption>
<p><span class="caption-number">Fig. 711 </span><span class="caption-text">Zoomed-in schematic</span><a class="headerlink" href="#id28" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>You might find that you want to create your design in a more advanced design tool,
perhaps because it has the library components you desire, it integrates better with other tools
you are using, or it has some other feature (such as simulation) of which you’d like to take advantage.</p>
</section>
</section>
<section id="verifying-your-cape-design">
<span id="capes-verify"></span><h2>Verifying Your Cape Design<a class="headerlink" href="#verifying-your-cape-design" title="Link to this heading">#</a></h2>
<section id="id9">
<h3>Problem<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<p>You’ve got a design. How do you quickly verify that it works?</p>
</section>
<section id="id10">
<h3>Solution<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>To make this recipe, you will need:</p>
<ul class="simple">
<li><p>An oscilloscope</p></li>
</ul>
<p>Break down your design into functional subcomponents and write tests for each.
Use components you already know are working, such as the onboard LEDs, to display
the test status with the code in <a class="reference internal" href="#capes-quickbot-motor-test-code"><span class="std std-ref">Testing the quickBot motors interface (quickBot_motor_test.js)</span></a>.</p>
</section>
</section>
<section id="testing-the-quickbot-motors-interface-quickbot-motor-test-js">
<span id="capes-quickbot-motor-test-code"></span><h2>Testing the quickBot motors interface (quickBot_motor_test.js)<a class="headerlink" href="#testing-the-quickbot-motors-interface-quickbot-motor-test-js" title="Link to this heading">#</a></h2>
<blockquote>
<div><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env node</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;bonescript&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">M1_SPEED</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;P9_16&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// ①</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">M1_FORWARD</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;P8_15&#39;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">M1_BACKWARD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;P8_13&#39;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">M2_SPEED</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;P9_14&#39;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">M2_FORWARD</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;P8_9&#39;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">M2_BACKWARD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;P8_11&#39;</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">freq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">50</span><span class="p">;</span><span class="w"> </span><span class="c1">// ②</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">fast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.95</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">slow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.7</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ③</span>

<span class="nx">b</span><span class="p">.</span><span class="nx">pinMode</span><span class="p">(</span><span class="nx">M1_FORWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="p">);</span><span class="w"> </span><span class="c1">// ④</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">pinMode</span><span class="p">(</span><span class="nx">M1_BACKWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="p">);</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">pinMode</span><span class="p">(</span><span class="nx">M2_FORWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="p">);</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">pinMode</span><span class="p">(</span><span class="nx">M2_BACKWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="p">);</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">analogWrite</span><span class="p">(</span><span class="nx">M1_SPEED</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">freq</span><span class="p">);</span><span class="w"> </span><span class="c1">// ⑤</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">analogWrite</span><span class="p">(</span><span class="nx">M2_SPEED</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">freq</span><span class="p">);</span>

<span class="nx">updateMotors</span><span class="p">();</span><span class="w"> </span><span class="c1">// ⑥</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">updateMotors</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//console.log(&quot;Setting state = &quot; + state); // ⑦</span>
<span class="w">    </span><span class="nx">updateLEDs</span><span class="p">(</span><span class="nx">state</span><span class="p">);</span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ③</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">0</span><span class="o">:</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="nx">M1_set</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// ⑧</span>
<span class="w">            </span><span class="nx">M2_set</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">            </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// ③</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">1</span><span class="o">:</span>
<span class="w">            </span><span class="nx">M1_set</span><span class="p">(</span><span class="nx">slow</span><span class="p">);</span>
<span class="w">            </span><span class="nx">M2_set</span><span class="p">(</span><span class="nx">slow</span><span class="p">);</span>
<span class="w">            </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">2</span><span class="o">:</span>
<span class="w">            </span><span class="nx">M1_set</span><span class="p">(</span><span class="nx">slow</span><span class="p">);</span>
<span class="w">            </span><span class="nx">M2_set</span><span class="p">(</span><span class="o">-</span><span class="nx">slow</span><span class="p">);</span>
<span class="w">            </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">3</span><span class="o">:</span>
<span class="w">            </span><span class="nx">M1_set</span><span class="p">(</span><span class="o">-</span><span class="nx">slow</span><span class="p">);</span>
<span class="w">            </span><span class="nx">M2_set</span><span class="p">(</span><span class="nx">slow</span><span class="p">);</span>
<span class="w">            </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">4</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">4</span><span class="o">:</span>
<span class="w">            </span><span class="nx">M1_set</span><span class="p">(</span><span class="nx">fast</span><span class="p">);</span>
<span class="w">            </span><span class="nx">M2_set</span><span class="p">(</span><span class="nx">fast</span><span class="p">);</span>
<span class="w">            </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">updateMotors</span><span class="p">,</span><span class="w"> </span><span class="mf">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// ③</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">updateLEDs</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ⑦</span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mf">0</span><span class="o">:</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mf">1</span><span class="o">:</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mf">2</span><span class="o">:</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mf">3</span><span class="o">:</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mf">4</span><span class="o">:</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR0&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="s2">&quot;USR3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">M1_set</span><span class="p">(</span><span class="nx">speed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ⑧</span>
<span class="w">    </span><span class="nx">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">speed</span><span class="p">;</span><span class="w"> </span><span class="c1">// ⑨</span>
<span class="w">    </span><span class="nx">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">speed</span><span class="p">;</span>
<span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M1_FORWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M1_BACKWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M1_FORWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M1_BACKWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">analogWrite</span><span class="p">(</span><span class="nx">M1_SPEED</span><span class="p">,</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">speed</span><span class="p">),</span><span class="w"> </span><span class="nx">freq</span><span class="p">);</span><span class="w"> </span><span class="c1">// ⑩</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">M2_set</span><span class="p">(</span><span class="nx">speed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">speed</span><span class="p">;</span>
<span class="w">    </span><span class="nx">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nx">speed</span><span class="p">;</span>
<span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M2_FORWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M2_BACKWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">LOW</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M2_FORWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="nx">speed</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">b</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="nx">M2_BACKWARD</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">HIGH</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">b</span><span class="p">.</span><span class="nx">analogWrite</span><span class="p">(</span><span class="nx">M2_SPEED</span><span class="p">,</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">speed</span><span class="p">),</span><span class="w"> </span><span class="nx">freq</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>① Define each pin as a variable. This makes it easy to change to another pin if you decide that is necessary.</p>
<p>② Make other simple parameters variables. Again, this makes it easy to update them. When creating this test, I found that the PWM frequency to drive the motors needed to be relatively low to get over the kickback shown in <a class="reference internal" href="#quickbot-motor-kickback"><span class="std std-ref">quickBot motor test showing kickback</span></a>. I also found that I needed to get up to about 70 percent duty cycle for my circuit to reliably start the motors turning.</p>
<p>③ Use a simple variable such as <cite>state</cite> to keep track of the test phase. This is used in a <cite>switch</cite> statement to jump to the code to configure for that test phase and updated after configuring for the current phase in order to select the next phase. Note that the next phase isn’t entered until after a two-second delay, as specified in the call to <cite>setTimeout()</cite>.</p>
<p>④ Perform the initial setup of all the pins.</p>
<p>⑤ The first time a PWM pin is used, it is configured with the update frequency. It is important to set this just once to the right frequency, because other PWM channels might use the same PWM controller, and attempts to reset the PWM frequency might fail. The <cite>pinMode()</cite> function doesn’t have an argument for providing the update frequency, so use the <cite>analogWrite()</cite> function, instead. You can review using the PWM in <a class="reference internal" href="../04motors/motors.html#motors-servo"><span class="std std-ref">Controlling a Servo Motor</span></a>.</p>
<p>⑥ <cite>updateMotors()</cite> is the test function for the motors and is defined after all the setup and initialization code. The code calls this function every two seconds using the <cite>setTimeout()</cite> JavaScript function. The first call is used to prime the loop.</p>
<p>⑦ The call to <cite>console.log()</cite> was initially here to observe the state transitions in the debug console, but it was replaced with the <cite>updateLEDs()</cite> call. Using the <cite>USER</cite> LEDs makes it possible to note the state transitions without having visibility of the debug console. <cite>updateLEDs()</cite> is defined later.</p>
<p>⑧ The <cite>M1_set()</cite> and <cite>M2_set()</cite> functions are defined near the bottom and do the work of configuring the motor drivers into a particular state. They take a single argument of <cite>speed</cite>, as defined between <cite>-1</cite> (maximum reverse), <cite>0</cite> (stop), and <cite>1</cite> (maximum forward).</p>
<p>⑨ Perform simple bounds checking to ensure that speed values are between <cite>-1</cite> and <cite>1</cite>.</p>
<p>⑩ The <cite>analogWrite()</cite> call uses the absolute value of <cite>speed</cite>, making any negative numbers a positive magnitude.</p>
<figure class="align-center" id="id29">
<span id="quickbot-motor-kickback"></span><img alt="quickBot kicking back" src="../../../_images/quickBot_motor_kickback.webp" />
<figcaption>
<p><span class="caption-number">Fig. 712 </span><span class="caption-text">quickBot motor test showing kickback</span><a class="headerlink" href="#id29" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Using the solution in <a class="reference internal" href="../01basics/basics.html#beaglebone-cookbook-basics"><span class="std std-ref">Basics</span></a>, you can untether from your coding station to test your
design at your lab workbench, as shown in <a class="reference internal" href="#quickbot-scope-fig"><span class="std std-ref">quickBot motor test code under scope</span></a>.</p>
<figure class="align-center" id="id30">
<span id="quickbot-scope-fig"></span><img alt="quickBot under scope" src="../../../_images/quickBot_motor_test_scope.webp" />
<figcaption>
<p><span class="caption-number">Fig. 713 </span><span class="caption-text">quickBot motor test code under scope</span><a class="headerlink" href="#id30" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>SparkFun provides a <a class="reference external" href="http://bit.ly/18AzuoR">useful guide to using an oscilloscope</a>.
You might want to check it out if you’ve never used an oscilloscope before.
Looking at the stimulus you’ll generate <em>before</em> you connect up your hardware will help you avoid surprises.</p>
</section>
<section id="laying-out-your-cape-pcb">
<span id="capes-layout"></span><h2>Laying Out Your Cape PCB<a class="headerlink" href="#laying-out-your-cape-pcb" title="Link to this heading">#</a></h2>
<section id="id11">
<h3>Problem<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<p>You’ve generated a diagram and schematic for your circuit and verified that they are correct. How do you create a PCB?</p>
</section>
<section id="id12">
<h3>Solution<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p>If you’ve been using Fritzing, all you need to do is click the PCB tab, and there’s your board. Well, almost.
Much like the schematic view shown in <a class="reference internal" href="#capes-creating-prototype-schematic"><span class="std std-ref">Creating a Prototype Schematic</span></a>, you need to do some layout work
before it’s actually usable. I just moved the components around until they seemed to be grouped logically and
then clicked the Autoroute button.  After a minute or two of trying various layouts, Fritzing picked the one it
determined to be the best. <a class="reference internal" href="#capes-quickrobo-pcb"><span class="std std-ref">Simple robot PCB</span></a> shows the results.</p>
<figure class="align-center" id="id31">
<span id="capes-quickrobo-pcb"></span><img alt="Simple robot PCB" src="../../../_images/quickBot_pcb.png" />
<figcaption>
<p><span class="caption-number">Fig. 714 </span><span class="caption-text">Simple robot PCB</span><a class="headerlink" href="#id31" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The <a class="reference external" href="http://bit.ly/1HCxokQ">Fritzing pre-fab web page</a> has a few helpful hints, including checking the widths
of all your traces and cleaning up any questionable routing created by the autorouter.</p>
<p>The PCB in <a class="reference internal" href="#capes-quickrobo-pcb"><span class="std std-ref">Simple robot PCB</span></a> is a two-sided board. One color (or shade of gray in the printed book)
represents traces on one side of the board, and the other color (or shade of gray) is the other side. Sometimes,
you’ll see a trace come to a small circle and then change colors. This is where it is switching sides of the board
through what’s called a <em>via</em>. One of the goals of PCB design is to minimize the number of vias.</p>
<p><a class="reference internal" href="#capes-quickrobo-pcb"><span class="std std-ref">Simple robot PCB</span></a> wasn’t my first try or my last. My approach was to see what was needed to hook where and
move the components around to make it easier for the autorouter to carry out its job.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are entire books and websites dedicated to creating PCB layouts. Look around and see
what you can find. <a class="reference external" href="http://bit.ly/1wXTLki">SparkFun’s guide to making PCBs</a> is particularly useful.</p>
</div>
</section>
</section>
<section id="customizing-the-board-outline">
<h2>Customizing the Board Outline<a class="headerlink" href="#customizing-the-board-outline" title="Link to this heading">#</a></h2>
<p>One challenge that slipped my first pass review was the board outline. The part we installed in
<a class="reference internal" href="#tips-fritzing"><span class="std std-ref">Fritzing tips</span></a> is meant to represent BeagleBone Black, not a cape, so the outline doesn’t have
the notch cut out of it for the Ethernet connector.</p>
<p>The <a class="reference external" href="https://fritzing.org/pcb-custom-shape/">Fritzing custom PCB outline page</a> describes how to create and use a custom
board outline. Although it is possible to use a drawing tool like <a class="reference external" href="https://inkscape.org/en/">Inkscape</a>,
I chose to use <a class="reference external" href="https://www.w3schools.com/graphics/svg_path.asp">the SVG path command</a> directly to create <a class="reference internal" href="#capes-boardoutline-code"><span class="std std-ref">Outline SVG for BeagleBone cape (beaglebone_cape_boardoutline.svg)</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="capes-boardoutline-code">
<div class="code-block-caption"><span class="caption-number">Listing 85 </span><span class="caption-text">Outline SVG for BeagleBone cape (beaglebone_cape_boardoutline.svg)</span><a class="headerlink" href="#capes-boardoutline-code" title="Link to this code">#</a></div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="cp">&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; standalone=&#39;no&#39;?&gt;</span>
<span class="linenos"> 2</span><span class="nt">&lt;svg</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2000/svg&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.1&quot;</span>
<span class="linenos"> 3</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;306&quot;</span><span class="w">  </span><span class="na">height=</span><span class="s">&quot;193.5&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- ① --&gt;</span>
<span class="linenos"> 4</span><span class="w"> </span><span class="nt">&lt;g</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;board&quot;</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!-- ② --&gt;</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="nt">&lt;path</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;#338040&quot;</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;boardoutline&quot;</span><span class="w"> </span><span class="na">d=</span><span class="s">&quot;M 22.5,0 l 0,56 L 72,56</span>
<span class="linenos"> 6</span><span class="s">   q 5,0 5,5 l 0,53.5 q 0,5 -5,5 L 0,119.5 L 0,171 Q 0,193.5 22.5,193.5</span>
<span class="linenos"> 7</span><span class="s">   l 238.5,0 c 24.85281,0 45,-20.14719 45,-45 L 306,45</span>
<span class="linenos"> 8</span><span class="s">   C 306,20.14719 285.85281,0 261,0 z&quot;</span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- ③ --&gt;</span>
<span class="linenos"> 9</span><span class="w"> </span><span class="nt">&lt;/g&gt;</span>
<span class="linenos">10</span><span class="nt">&lt;/svg&gt;</span>
</pre></div>
</div>
</div>
<p>① This is a standard SVG header. The width and height are set based on the BeagleBone outline provided in the Adafruit library.</p>
<p>② Fritzing requires the element to be within a layer called <cite>board</cite></p>
<p>③ Fritzing requires the color to be <cite>#338040</cite> and the layer to be called <cite>boardoutline</cite>. The units end up being 1/90 of an inch. That is, take the numbers in the SVG code and divide by 90 to get the numbers from the System Reference Manual.</p>
<p>The measurements are taken from the <a class="reference internal" href="../../../boards/beaglebone/black/ch09.html#beagleboneblack-mechanical"><span class="std std-ref">BeagleBone Black Mechanical</span></a> section of the <a class="reference internal" href="../../../boards/beaglebone/black/index.html#beagleboneblack-home"><span class="std std-ref">BeagleBone Black System Reference Manual</span></a>, as shown in <a class="reference internal" href="#capes-dimensions-fig"><span class="std std-ref">Cape dimensions</span></a>.</p>
<figure class="align-center" id="id32">
<span id="capes-dimensions-fig"></span><img alt="Cape dimensions in SRM" src="../../../_images/srm_cape_dimensions.png" />
<figcaption>
<p><span class="caption-number">Fig. 715 </span><span class="caption-text">Cape dimensions</span><a class="headerlink" href="#id32" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>You can observe the rendered output of <a class="reference internal" href="#capes-boardoutline-code"><span class="std std-ref">Outline SVG for BeagleBone cape (beaglebone_cape_boardoutline.svg)</span></a> quickly by opening the
file in a web browser, as shown in <a class="reference internal" href="#capes-boardoutline-fig"><span class="std std-ref">Rendered cape outline in Chrome</span></a>.</p>
<figure class="align-center" id="id33">
<span id="capes-boardoutline-fig"></span><img alt="Board outline in Chrome" src="../../../_images/beaglebone_cape_boardoutline.png" />
<figcaption>
<p><span class="caption-number">Fig. 716 </span><span class="caption-text">Rendered cape outline in Chrome</span><a class="headerlink" href="#id33" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="fritzing-tips">
<span id="tips-fritzing"></span><h2>Fritzing tips<a class="headerlink" href="#fritzing-tips" title="Link to this heading">#</a></h2>
<p>After you have the SVG outline, you’ll need to select the PCB in Fritzing and select a custom shape in the
Inspector box. Begin with the original background, as shown in <a class="reference internal" href="#capes-fritzing1"><span class="std std-ref">PCB with original board, without notch for Ethernet connector</span></a>.</p>
<figure class="align-center" id="id34">
<span id="capes-fritzing1"></span><img alt="PCB orginal baord" src="../../../_images/fritzing1.png" />
<figcaption>
<p><span class="caption-number">Fig. 717 </span><span class="caption-text">PCB with original board, without notch for Ethernet connector</span><a class="headerlink" href="#id34" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Hide all but the Board Layer (<a class="reference internal" href="#capes-fritzing2"><span class="std std-ref">PCB with all but the Board Layer hidden</span></a>).</p>
<figure class="align-center" id="id35">
<span id="capes-fritzing2"></span><img alt="PCB orginal baord hidden" src="../../../_images/fritzing2.png" />
<figcaption>
<p><span class="caption-number">Fig. 718 </span><span class="caption-text">PCB with all but the Board Layer hidden</span><a class="headerlink" href="#id35" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Select the PCB1 object and  then, in the Inspector pane,
scroll down to the “load image file” button (<a class="reference internal" href="#capes-fritzing3"><span class="std std-ref">Clicking :load image file: with PCB1 selected</span></a>).</p>
<figure class="align-center" id="id36">
<span id="capes-fritzing3"></span><img alt="PCB load image file" src="../../../_images/fritzing3.png" />
<figcaption>
<p><span class="caption-number">Fig. 719 </span><span class="caption-text">Clicking :load image file: with PCB1 selected</span><a class="headerlink" href="#id36" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Navigate to the <em>beaglebone_cape_boardoutline.svg</em> file created in
<a class="reference internal" href="#capes-boardoutline-code"><span class="std std-ref">Outline SVG for BeagleBone cape (beaglebone_cape_boardoutline.svg)</span></a>, as shown in <a class="reference internal" href="#capes-fritzing4"><span class="std std-ref">Selecting the .svg file</span></a>.</p>
<figure class="align-center" id="id37">
<span id="capes-fritzing4"></span><img alt="PCB selecting svg file" src="../../../_images/fritzing4.png" />
<figcaption>
<p><span class="caption-number">Fig. 720 </span><span class="caption-text">Selecting the .svg file</span><a class="headerlink" href="#id37" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Turn on the other layers and line up the Board Layer with the rest of the
PCB, as shown in <a class="reference internal" href="#capes-fritzing-inspector-fig"><span class="std std-ref">PCB Inspector</span></a>.</p>
<figure class="align-center" id="id38">
<span id="capes-fritzing-inspector-fig"></span><img alt="PCB Inspector" src="../../../_images/Fritzing_Inspector.png" />
<figcaption>
<p><span class="caption-number">Fig. 721 </span><span class="caption-text">PCB Inspector</span><a class="headerlink" href="#id38" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Now, you can save your file and send it off to be made, as described in <a class="reference internal" href="#capes-prototype"><span class="std std-ref">Producing a Prototype</span></a>.</p>
</section>
<section id="pcb-design-alternatives">
<h2>PCB Design Alternatives<a class="headerlink" href="#pcb-design-alternatives" title="Link to this heading">#</a></h2>
<p>There are other free PCB design programs. Here are a few.</p>
<section id="eagle">
<h3>EAGLE<a class="headerlink" href="#eagle" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/EAGLE_(program)">Eagle PCB</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/DesignSpark_PCB">DesignSpark PCB</a> are two popular
design programs. Many capes (and other PCBs) are designed with Eagle PCB, and the files are available.
For example, the MiniDisplay cape has the schematic shown in <a class="reference internal" href="#capes-minidisplay-schem"><span class="std std-ref">Schematic for the MiniDisplay cape</span></a>
and PCB shown in <a class="reference internal" href="#capes-minidisplay-pcb"><span class="std std-ref">PCB for MiniDisplay cape</span></a>.</p>
<figure class="align-center" id="id39">
<span id="capes-minidisplay-schem"></span><img alt="Schematic for miniDisplay" src="../../../_images/miniDisplay_Cape_schem.png" />
<figcaption>
<p><span class="caption-number">Fig. 722 </span><span class="caption-text">Schematic for the MiniDisplay cape</span><a class="headerlink" href="#id39" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id40">
<span id="capes-minidisplay-pcb"></span><img alt="PCB for miniDisplay" src="../../../_images/miniDisplay_Cape_pcb.png" />
<figcaption>
<p><span class="caption-number">Fig. 723 </span><span class="caption-text">PCB for MiniDisplay cape</span><a class="headerlink" href="#id40" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>#TODO#: The MiniDisplay cape is not currently available, so this example should be updated.</p>
</div>
<p>A good starting point is to take the PCB layout for the MiniDisplay and edit it for your project.
The connectors for <strong>P8</strong> and <strong>P9</strong> are already in place and ready to go.</p>
<p>Eagle PCB is a powerful system with many good tutorials online. The free version runs on
Windows, Mac, and Linux, but it has three <a class="reference external" href="https://en.wikipedia.org/wiki/EAGLE_(program)#License_model">limitations</a>:</p>
<ul class="simple">
<li><p>The usable board area is limited to 100 x 80 mm (4 x 3.2 inches).</p></li>
<li><p>You can use only two signal layers (Top and Bottom).</p></li>
<li><p>The schematic editor can create only one sheet.</p></li>
</ul>
<p>You can install Eagle PCB on your Linux host by using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>host$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>eagle
Reading<span class="w"> </span>package<span class="w"> </span>lists...<span class="w"> </span>Done
Building<span class="w"> </span>dependency<span class="w"> </span>tree
Reading<span class="w"> </span>state<span class="w"> </span>information...<span class="w"> </span>Done
...
Setting<span class="w"> </span>up<span class="w"> </span>eagle<span class="w"> </span><span class="o">(</span><span class="m">6</span>.5.0-1<span class="o">)</span><span class="w"> </span>...
Processing<span class="w"> </span>triggers<span class="w"> </span><span class="k">for</span><span class="w"> </span>libc-bin<span class="w"> </span><span class="o">(</span><span class="m">2</span>.19-0ubuntu6.4<span class="o">)</span><span class="w"> </span>...
host$<span class="w"> </span>eagle
</pre></div>
</div>
<p>You’ll see the startup screen shown in <a class="reference internal" href="#capes-eagle-license"><span class="std std-ref">Eagle PCB startup screen</span></a>.</p>
<figure class="align-center" id="id41">
<span id="capes-eagle-license"></span><img alt="Eagle License" src="../../../_images/EagleLicense.png" />
<figcaption>
<p><span class="caption-number">Fig. 724 </span><span class="caption-text">Eagle PCB startup screen</span><a class="headerlink" href="#id41" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Click “Run as Freeware.” When my Eagle started, it said it needed to be updated. To update on Linux,
follow the link provided by Eagle and download <em>eagle-lin-7.2.0.run</em> (or whatever version is current.).
Then run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>host$<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>eagle-lin-7.2.0.run
host$<span class="w"> </span>./eagle-lin-7.2.0.run
</pre></div>
</div>
<p>A series of screens will appear. Click Next. When you see a screen that looks like <a class="reference internal" href="#capes-eagle3"><span class="std std-ref">The Eagle installation destination directory</span></a>, note the Destination Directory.</p>
<figure class="align-center" id="id42">
<span id="capes-eagle3"></span><img alt="Eagle install destination directory" src="../../../_images/eagle3.png" />
<figcaption>
<p><span class="caption-number">Fig. 725 </span><span class="caption-text">The Eagle installation destination directory</span><a class="headerlink" href="#id42" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Continue clicking Next until it’s installed. Then run the following commands
(where <em>~/eagle-7.2.0</em> is the path you noted in <a class="reference internal" href="#capes-eagle3"><span class="std std-ref">The Eagle installation destination directory</span></a>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>host$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/usr/bin
host$<span class="w"> </span>sudo<span class="w"> </span>rm<span class="w"> </span>eagle
host$<span class="w"> </span>sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>~/eagle-7.2.0/bin/eagle<span class="w"> </span>.
host$<span class="w"> </span><span class="nb">cd</span>
host$<span class="w"> </span>eagle
</pre></div>
</div>
<p>The <em>ls</em> command links <em>eagle</em> in <em>/usr/bin</em>, so you can run +eagle+ from any directory.
After <em>eagle</em> starts, you’ll see the start screen shown in <a class="reference internal" href="#capes-eagle7"><span class="std std-ref">The Eagle start screen</span></a>.</p>
<figure class="align-center" id="id43">
<span id="capes-eagle7"></span><img alt="Eagle start screen" src="../../../_images/eagle7.png" />
<figcaption>
<p><span class="caption-number">Fig. 726 </span><span class="caption-text">The Eagle start screen</span><a class="headerlink" href="#id43" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Ensure that the correct version number appears.</p>
<p>If you are moving a design from Fritzing to Eagle, see <a class="reference internal" href="#capes-schematic-migration"><span class="std std-ref">Migrating a Fritzing Schematic to Another Tool</span></a>
for tips on converting from one to the other.</p>
</section>
<section id="id13">
<h3>DesignSpark PCB<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p>The free <a class="reference external" href="http://bit.ly/19cbwS0">DesignSpark</a> doesn’t have the same limitations as Eagle PCB,
but it runs only on Windows. Also, it doesn’t seem to have the following of Eagle at this time.</p>
</section>
<section id="upverter">
<span id="capes-upverter"></span><h3>Upverter<a class="headerlink" href="#upverter" title="Link to this heading">#</a></h3>
<p>In addition to free solutions you run on your desktop, you can also work with a browser-based
tool called <a class="reference external" href="https://upverter.com/">Upverter</a>. With Upverter, you can collaborate easily, editing
your designs from anywhere on the Internet. It also provides many conversion options and a PCB fabrication service.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don’t confuse Upverter with Upconverter (<a class="reference internal" href="#capes-schematic-migration"><span class="std std-ref">Migrating a Fritzing Schematic to Another Tool</span></a>).
Though their names differ by only three letters, they differ greatly in what they do.</p>
</div>
</section>
<section id="kicad">
<span id="capes-kicad"></span><h3>Kicad<a class="headerlink" href="#kicad" title="Link to this heading">#</a></h3>
<p>Unlike the previously mentioned free (no-cost) solutions, <a class="reference external" href="https://www.kicad.org/">Kicad</a>
is open source and provides some features beyond those of Fritzing. Notably, <a class="reference external" href="http://circuithub.com/">CircuitHub site</a>
(discussed in <a class="reference internal" href="#capes-production"><span class="std std-ref">Putting Your Cape Design into Production</span></a>) provides support for uploading Kicad designs.</p>
</section>
</section>
<section id="migrating-a-fritzing-schematic-to-another-tool">
<span id="capes-schematic-migration"></span><h2>Migrating a Fritzing Schematic to Another Tool<a class="headerlink" href="#migrating-a-fritzing-schematic-to-another-tool" title="Link to this heading">#</a></h2>
<section id="id16">
<h3>Problem<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<p>You created your schematic in Fritzing, but it doesn’t integrate with everything you need.
How can you move the schematic to another tool?</p>
</section>
<section id="id17">
<h3>Solution<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<p>Use the <a class="reference external" href="https://github.com/ljmljz/schematic-file-converter">Upverter schematic-file-converter</a> Python script.
For example, suppose that you want
to convert the Fritzing file for the diagram shown in <a class="reference internal" href="#capes-quickrobo-fig"><span class="std std-ref">A simple robot controller diagram (quickBot.fzz)</span></a>.
First, install Upverter.</p>
<p>I found it necessary to install +libfreetype6+ and +freetype-py+ onto my system, but you might not need this first step:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>host$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libfreetype6
Reading<span class="w"> </span>package<span class="w"> </span>lists...<span class="w"> </span>Done
Building<span class="w"> </span>dependency<span class="w"> </span>tree
Reading<span class="w"> </span>state<span class="w"> </span>information...<span class="w"> </span>Done
libfreetype6<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span>the<span class="w"> </span>newest<span class="w"> </span>version.
<span class="m">0</span><span class="w"> </span>upgraded,<span class="w"> </span><span class="m">0</span><span class="w"> </span>newly<span class="w"> </span>installed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span>and<span class="w"> </span><span class="m">154</span><span class="w"> </span>not<span class="w"> </span>upgraded.
host$<span class="w"> </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>freetype-py
Downloading/unpacking<span class="w"> </span>freetype-py
Running<span class="w"> </span>setup.py<span class="w"> </span>egg_info<span class="w"> </span><span class="k">for</span><span class="w"> </span>package<span class="w"> </span>freetype-py

Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>freetype-py
Running<span class="w"> </span>setup.py<span class="w"> </span>install<span class="w"> </span><span class="k">for</span><span class="w"> </span>freetype-py

Successfully<span class="w"> </span>installed<span class="w"> </span>freetype-py
Cleaning<span class="w"> </span>up...
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All these commands are being run on the Linux-based host computer, as shown by the <strong>host$</strong> prompt.
Log in as a normal user, not +root+.</p>
</div>
<p>Now, install the <code class="docutils literal notranslate"><span class="pre">schematic-file-converter</span></code> tool:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>host$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:upverter/schematic-file-converter.git
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">&#39;schematic-file-converter&#39;</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">22251</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">22251</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Receiving<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">22251</span>/22251<span class="o">)</span>,<span class="w"> </span><span class="m">39</span>.45<span class="w"> </span>MiB<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">7</span>.28<span class="w"> </span>MiB/s,<span class="w"> </span><span class="k">done</span>.
Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">14761</span>/14761<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>out<span class="w"> </span>files:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">16880</span>/16880<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
host$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>schematic-file-converter
host$<span class="w"> </span>sudo<span class="w"> </span>python<span class="w"> </span>setup.py<span class="w"> </span>install
.
.
.
Extracting<span class="w"> </span>python_upconvert-0.8.9-py2.7.egg<span class="w"> </span>to<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>/usr/local/lib/python2.7/dist-packages
Adding<span class="w"> </span>python-upconvert<span class="w"> </span><span class="m">0</span>.8.9<span class="w"> </span>to<span class="w"> </span>easy-install.pth<span class="w"> </span>file

Installed<span class="w"> </span>/usr/local/lib/python2.7/dist-packages/python_upconvert-0.8.9-py2.7.egg
Processing<span class="w"> </span>dependencies<span class="w"> </span><span class="k">for</span><span class="w"> </span>python-upconvert<span class="o">==</span><span class="m">0</span>.8.9
Finished<span class="w"> </span>processing<span class="w"> </span>dependencies<span class="w"> </span><span class="k">for</span><span class="w"> </span>python-upconvert<span class="o">==</span><span class="m">0</span>.8.9
host$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
host$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>upconvert.upconverter<span class="w"> </span>-h
usage:<span class="w"> </span>upconverter.py<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-i<span class="w"> </span>INPUT<span class="o">]</span><span class="w"> </span><span class="o">[</span>-f<span class="w"> </span>TYPE<span class="o">]</span><span class="w"> </span><span class="o">[</span>-o<span class="w"> </span>OUTPUT<span class="o">]</span><span class="w"> </span><span class="o">[</span>-t<span class="w"> </span>TYPE<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>-s<span class="w"> </span>SYMDIRS<span class="w"> </span><span class="o">[</span>SYMDIRS<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>--unsupported<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>--raise-errors<span class="o">]</span><span class="w"> </span><span class="o">[</span>--profile<span class="o">]</span><span class="w"> </span><span class="o">[</span>-v<span class="o">]</span><span class="w"> </span><span class="o">[</span>--formats<span class="o">]</span>

optional<span class="w"> </span>arguments:
-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
-i<span class="w"> </span>INPUT,<span class="w"> </span>--input<span class="w"> </span>INPUT
<span class="w">                        </span><span class="nb">read</span><span class="w"> </span>INPUT<span class="w"> </span>file<span class="w"> </span><span class="k">in</span>
-f<span class="w"> </span>TYPE,<span class="w"> </span>--from<span class="w"> </span>TYPE<span class="w">  </span><span class="nb">read</span><span class="w"> </span>input<span class="w"> </span>file<span class="w"> </span>as<span class="w"> </span>TYPE
-o<span class="w"> </span>OUTPUT,<span class="w"> </span>--output<span class="w"> </span>OUTPUT
<span class="w">                        </span>write<span class="w"> </span>OUTPUT<span class="w"> </span>file<span class="w"> </span>out
-t<span class="w"> </span>TYPE,<span class="w"> </span>--to<span class="w"> </span>TYPE<span class="w">    </span>write<span class="w"> </span>output<span class="w"> </span>file<span class="w"> </span>as<span class="w"> </span>TYPE
-s<span class="w"> </span>SYMDIRS<span class="w"> </span><span class="o">[</span>SYMDIRS<span class="w"> </span>...<span class="o">]</span>,<span class="w"> </span>--sym-dirs<span class="w"> </span>SYMDIRS<span class="w"> </span><span class="o">[</span>SYMDIRS<span class="w"> </span>...<span class="o">]</span>
<span class="w">                        </span>specify<span class="w"> </span>SYMDIRS<span class="w"> </span>to<span class="w"> </span>search<span class="w"> </span><span class="k">for</span><span class="w"> </span>.sym<span class="w"> </span>files<span class="w"> </span><span class="o">(</span><span class="k">for</span><span class="w"> </span>gEDA
<span class="w">                        </span>only<span class="o">)</span>
--unsupported<span class="w">         </span>run<span class="w"> </span>with<span class="w"> </span>an<span class="w"> </span>unsupported<span class="w"> </span>python<span class="w"> </span>version
--raise-errors<span class="w">        </span>show<span class="w"> </span>tracebacks<span class="w"> </span><span class="k">for</span><span class="w"> </span>parsing<span class="w"> </span>and<span class="w"> </span>writing<span class="w"> </span>errors
--profile<span class="w">             </span>collect<span class="w"> </span>profiling<span class="w"> </span>information
-v,<span class="w"> </span>--version<span class="w">         </span>print<span class="w"> </span>version<span class="w"> </span>information<span class="w"> </span>and<span class="w"> </span>quit
--formats<span class="w">             </span>print<span class="w"> </span>supported<span class="w"> </span>formats<span class="w"> </span>and<span class="w"> </span>quit
</pre></div>
</div>
<p>At the time of this writing, Upverter supports the following file types:</p>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p>File type</p></td>
<td><p>Support</p></td>
</tr>
<tr class="row-even"><td><p>openjson</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-odd"><td><p>kicad</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-even"><td><p>geda</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-odd"><td><p>eagle</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-even"><td><p>eaglexml</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-odd"><td><p>fritzing</p></td>
<td><p>in only schematic only</p></td>
</tr>
<tr class="row-even"><td><p>gerber</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-odd"><td><p>specctra</p></td>
<td><p>i/o</p></td>
</tr>
<tr class="row-even"><td><p>image</p></td>
<td><p>out only</p></td>
</tr>
<tr class="row-odd"><td><p>ncdrill</p></td>
<td><p>out only</p></td>
</tr>
<tr class="row-even"><td><p>bom (csv)</p></td>
<td><p>out only</p></td>
</tr>
<tr class="row-odd"><td><p>netlist (csv)</p></td>
<td><p>out only</p></td>
</tr>
</tbody>
</table>
</div>
<p>After Upverter is installed, run the file (<code class="docutils literal notranslate"><span class="pre">quickBot.fzz</span></code>) that generated <a class="reference internal" href="#capes-quickrobo-fig"><span class="std std-ref">A simple robot controller diagram (quickBot.fzz)</span></a> through Upverter:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>host$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>upconvert.upconverter<span class="w"> </span>-i<span class="w"> </span>quickBot.fzz<span class="w"> </span><span class="se">\</span>
-f<span class="w"> </span>fritzing<span class="w"> </span>-o<span class="w"> </span>quickBot-eaglexml.sch<span class="w"> </span>-t<span class="w"> </span>eaglexml<span class="w"> </span>--unsupported
WARNING:<span class="w"> </span>RUNNING<span class="w"> </span>UNSUPPORTED<span class="w"> </span>VERSION<span class="w"> </span>OF<span class="w"> </span>PYTHON<span class="w"> </span><span class="o">(</span><span class="m">2</span>.7<span class="w"> </span>&gt;<span class="w"> </span><span class="m">2</span>.6<span class="o">)</span>
DEBUG:main:parsing<span class="w"> </span>quickBot.fzz<span class="w"> </span><span class="k">in</span><span class="w"> </span>format<span class="w"> </span>fritzing
host$<span class="w"> </span>ls<span class="w"> </span>-l
total<span class="w"> </span><span class="m">188</span>
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ubuntu<span class="w">  </span><span class="m">63914</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">19</span>:47<span class="w"> </span>quickBot-eaglexml.sch
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ubuntu<span class="w"> </span><span class="m">122193</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">19</span>:43<span class="w"> </span>quickBot.fzz
drwxrwxr-x<span class="w"> </span><span class="m">9</span><span class="w"> </span>ubuntu<span class="w">   </span><span class="m">4096</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">19</span>:42<span class="w"> </span>schematic-file-converter
</pre></div>
</div>
<p><a class="reference internal" href="#caps-eagle"><span class="std std-ref">Output of Upverter conversion</span></a> shows the output of the conversion.</p>
<figure class="align-center" id="id44">
<span id="caps-eagle"></span><img alt="Converter Output" src="../../../_images/quickBot_eaglexml.png" />
<figcaption>
<p><span class="caption-number">Fig. 727 </span><span class="caption-text">Output of Upverter conversion</span><a class="headerlink" href="#id44" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>No one said it would be pretty!</p>
<p>I found that Eagle was more generous at reading in the <strong>eaglexml</strong> format than the <strong>eagle</strong> format.
This also made it easier to hand-edit any translation issues.</p>
</section>
</section>
<section id="producing-a-prototype">
<span id="capes-prototype"></span><h2>Producing a Prototype<a class="headerlink" href="#producing-a-prototype" title="Link to this heading">#</a></h2>
<section id="id18">
<h3>Problem<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<p>You have your PCB all designed. How do you get it made?</p>
</section>
<section id="id19">
<h3>Solution<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<p>To make this recipe, you will need:</p>
<ul class="simple">
<li><p>A completed design</p></li>
<li><p>Soldering iron</p></li>
<li><p>Oscilloscope</p></li>
<li><p>Multimeter</p></li>
<li><p>Your other components</p></li>
</ul>
<p>Upload your design to <a class="reference external" href="http://oshpark.com">OSH Park</a> and order a few boards. <a class="reference internal" href="#capes-oshpark-share"><span class="std std-ref">The OSH Park QuickBot Cape shared project page</span></a> shows a resulting
<a class="reference external" href="http://bit.ly/1MtlzAp">shared project page for the quickBot cape</a> created in <a class="reference internal" href="#capes-layout"><span class="std std-ref">Laying Out Your Cape PCB</span></a>. We’ll proceed to
break down how this design was uploaded and shared to enable ordering fabricated PCBs.</p>
<figure class="align-center" id="id45">
<span id="capes-oshpark-share"></span><img alt="" src="../../../_images/quickBot_oshpark_share.png" />
<figcaption>
<p><span class="caption-number">Fig. 728 </span><span class="caption-text">The OSH Park QuickBot Cape shared project page</span><a class="headerlink" href="#id45" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Within Fritzing, click the menu next to “Export for PCB” and choose “Extended Gerber,” as shown in <a class="reference internal" href="#capes-fritzing-export-fig"><span class="std std-ref">Choosing “Extended Gerber” in Fritzing</span></a>.
You’ll need to choose a directory in which to save them and then compress them all into a <a class="reference external" href="http://bit.ly/1Br5lEh">Zip file</a>.
The <a class="reference external" href="http://bit.ly/1B4GqRU">WikiHow article on creating Zip files</a> might be helpful if you aren’t very experienced at making these.</p>
<figure class="align-center" id="id46">
<span id="capes-fritzing-export-fig"></span><img alt="Choosing &quot;Extended Gerber&quot; in Fritzing" src="../../../_images/quickBot_fritzing_export.png" />
<figcaption>
<p><span class="caption-number">Fig. 729 </span><span class="caption-text">Choosing “Extended Gerber” in Fritzing</span><a class="headerlink" href="#id46" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Things on the <a class="reference external" href="http://oshpark.com">OSH Park website</a> are reasonably self-explanatory. You’ll need to create an account and
upload the Zip file containing the <a class="reference external" href="https://en.wikipedia.org/wiki/Gerber_format">Gerber files</a> you created. If you are a cautious person,
you might choose to examine the Gerber files with a Gerber file viewer first. The <a class="reference external" href="https://aisler.net/partners/fritzing">Fritzing fabrication FAQ</a>
offers several suggestions, including <a class="reference external" href="http://gerbv.geda-project.org/">gerbv</a> for Windows and Linux users.</p>
<p>When your upload is complete, you’ll be given a quote, shown images for review, and presented with options for accepting
and ordering. After you have accepted the design, your <a class="reference external" href="https://oshpark.com/project_history">list of accepted designs</a>
will also include the option of enabling sharing of your designs so that others can order a PCB, as well. If you are
looking to make some money on your design, you’ll want to go another route, like the one described in <a class="reference internal" href="#capes-production"><span class="std std-ref">Putting Your Cape Design into Production</span></a>.
<a class="reference internal" href="#capes-quickbot-pcb"><span class="std std-ref">QuickBot PCB</span></a> shows the resulting PCB that arrives in the mail.</p>
<figure class="align-center" id="id47">
<span id="capes-quickbot-pcb"></span><img alt="QuickBot PCB" src="../../../_images/quickBot_pcb.webp" />
<figcaption>
<p><span class="caption-number">Fig. 730 </span><span class="caption-text">QuickBot PCB</span><a class="headerlink" href="#id47" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Now is a good time to ensure that you have all of your components and a soldering station set up as in <a class="reference internal" href="#capes-soldering"><span class="std std-ref">Moving from a Breadboard to a Protoboard</span></a>, as well as an oscilloscope, as used in <a class="reference internal" href="#capes-verify"><span class="std std-ref">Verifying Your Cape Design</span></a>.</p>
<p>When you get your board, it is often informative to “buzz out” a few connections by using a multimeter.
If you’ve never used a multimeter before, the <a class="reference external" href="https://learn.sparkfun.com/tutorials/how-to-use-a-multimeter/all">SparkFun</a>
or <a class="reference external" href="http://bit.ly/1Br5Xtv">Adafruit</a> tutorials might be helpful.
Set your meter to continuity testing mode and probe between points where the headers are and where they should be connecting to your components. This would be more difficult and less accurate after you solder down your components, so it is a good idea to keep a bare board around just for this purpose.</p>
<p>You’ll also want to examine your board mechanically before soldering parts down. You don’t want to waste components on a PCB that might need to be altered or replaced.</p>
<p>When you begin assembling your board, it is advisable to assemble it in functional subsections, if possible, to help narrow down any potential issues. <a class="reference internal" href="#capes-motors-soldered"><span class="std std-ref">QuickBot motors under test</span></a> shows the motor portion wired up and running the test in <a class="reference internal" href="#capes-quickbot-motor-test-code"><span class="std std-ref">Testing the quickBot motors interface (quickBot_motor_test.js)</span></a>.</p>
<figure class="align-center" id="id48">
<span id="capes-motors-soldered"></span><img alt="QuickBot motors under test" src="../../../_images/quickBot_motors.webp" />
<figcaption>
<p><span class="caption-number">Fig. 731 </span><span class="caption-text">QuickBot motors under test</span><a class="headerlink" href="#id48" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Continue assembling and testing your board until you are happy. If you find issues, you might
choose to cut traces and use point-to-point wiring to resolve your issues before placing an
order for a new PCB. Better right the second time than the third!</p>
</section>
</section>
<section id="creating-contents-for-your-cape-configuration-eeprom">
<h2>Creating Contents for Your Cape Configuration EEPROM<a class="headerlink" href="#creating-contents-for-your-cape-configuration-eeprom" title="Link to this heading">#</a></h2>
<section id="id20">
<h3>Problem<a class="headerlink" href="#id20" title="Link to this heading">#</a></h3>
<p>Your cape is ready to go, and you want it
to automatically initialize when the Bone boots up.</p>
</section>
<section id="id21">
<h3>Solution<a class="headerlink" href="#id21" title="Link to this heading">#</a></h3>
<p>Complete capes have an I<sup>2</sup>C EEPROM on board that contains configuration information that is read at boot time.
<a class="reference external" href="https://web.archive.org/web/20190108195421/http://azkeller.com:80/blog/?p=62">Adventures in BeagleBone Cape EEPROMs</a> gives a helpful description of two methods for
programming the EEPROM.  <a class="reference external" href="https://web.archive.org/web/20200222204651/http://papermint-designs.com/community/taxonomy/term/68">How to Roll your own BeagleBone Capes</a> is a good four-part
series on creating a cape, including how to wire and program the EEPROM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current effort to document how to enable software for a cape is ongoing at <a class="reference external" href="https://docs.beagleboard.org/latest/boards/capes">https://docs.beagleboard.org/latest/boards/capes</a>.</p>
</div>
</section>
</section>
<section id="putting-your-cape-design-into-production">
<span id="capes-production"></span><h2>Putting Your Cape Design into Production<a class="headerlink" href="#putting-your-cape-design-into-production" title="Link to this heading">#</a></h2>
<section id="id22">
<h3>Problem<a class="headerlink" href="#id22" title="Link to this heading">#</a></h3>
<p>You want to share your cape with others.
How do you scale up?</p>
</section>
<section id="id23">
<h3>Solution<a class="headerlink" href="#id23" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://circuithub.com/">CircuitHub</a> offers a great tool to get a quick quote on assembled PCBs.
To make things simple, I downloaded the <a class="reference external" href="https://elinux.org/MiniDisplay_Cape">CircuitCo MiniDisplay Cape Eagle design materials</a>
and uploaded them to CircuitHub.</p>
<p>After the design is uploaded, you’ll need to review the parts to verify that CircuitHub has or
can order the right ones. Find the parts in the catalog by changing the text in the search box
and clicking the magnifying glass. When you’ve found a suitable match, select it to confirm
its use in your design, as shown in <a class="reference internal" href="#capes-circuithub-parts"><span class="std std-ref">CircuitHub part matching</span></a>.</p>
<figure class="align-center" id="id49">
<span id="capes-circuithub-parts"></span><img alt="" src="../../../_images/circuithub_part_matching.png" />
<figcaption>
<p><span class="caption-number">Fig. 732 </span><span class="caption-text">CircuitHub part matching</span><a class="headerlink" href="#id49" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>When you’ve selected all of your parts, a quote tool appears at the bottom of the page, as shown in <a class="reference internal" href="#capes-circuithub-quote"><span class="std std-ref">CircuitHub quote generation</span></a>.</p>
<figure class="align-center" id="id50">
<span id="capes-circuithub-quote"></span><img alt="" src="../../../_images/circuithub_quote.png" />
<figcaption>
<p><span class="caption-number">Fig. 733 </span><span class="caption-text">CircuitHub quote generation</span><a class="headerlink" href="#id50" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Checking out the pricing on the MiniDisplay Cape (without including the LCD itself) in <a class="reference internal" href="#capes-circuithub-pricing-table"><span class="std std-ref">CircuitHub price examples (all prices USD)</span></a>,
you can get a quick idea of how increased volume can dramatically impact the per-unit costs.</p>
<div class="pst-scrollable-table-container"><span id="capes-circuithub-pricing-table"></span><table class="table" id="id51">
<caption><span class="caption-number">Table 145 </span><span class="caption-text">CircuitHub price examples (all prices USD)</span><a class="headerlink" href="#id51" title="Link to this table">#</a></caption>
<tbody>
<tr class="row-odd"><td><p>Quantity</p></td>
<td><p>1</p></td>
<td><p>10</p></td>
<td><p>100</p></td>
<td><p>1000</p></td>
<td><p>10,000</p></td>
</tr>
<tr class="row-even"><td><p>PCB</p></td>
<td><p>$208.68</p></td>
<td><p>$21.75</p></td>
<td><p>$3.30</p></td>
<td><p>$0.98</p></td>
<td><p>$0.90</p></td>
</tr>
<tr class="row-odd"><td><p>Parts</p></td>
<td><p>$11.56</p></td>
<td><p>$2.55</p></td>
<td><p>$1.54</p></td>
<td><p>$1.01</p></td>
<td><p>$0.92</p></td>
</tr>
<tr class="row-even"><td><p>Assembly</p></td>
<td><p>$249.84</p></td>
<td><p>$30.69</p></td>
<td><p>$7.40</p></td>
<td><p>$2.79</p></td>
<td><p>$2.32</p></td>
</tr>
<tr class="row-odd"><td><p>Per unit</p></td>
<td><p>$470.09</p></td>
<td><p>$54.99</p></td>
<td><p>$12.25</p></td>
<td><p>$4.79</p></td>
<td><p>$4.16</p></td>
</tr>
<tr class="row-even"><td><p>Total</p></td>
<td><p>$470.09</p></td>
<td><p>$550.00</p></td>
<td><p>$1,225.25</p></td>
<td><p>$4,796.00</p></td>
<td><p>$41,665.79</p></td>
</tr>
</tbody>
</table>
</div>
<p>Checking the <a class="reference external" href="http://bit.ly/1GF6xqE">Crystalfontz web page for the LCD</a>,
you can find the prices for the LCDs as well, as shown in <a class="reference internal" href="#capes-lcd-pricing-table"><span class="std std-ref">LCD pricing (USD)</span></a>.</p>
<div class="pst-scrollable-table-container"><span id="capes-lcd-pricing-table"></span><table class="table" id="id52">
<caption><span class="caption-number">Table 146 </span><span class="caption-text">LCD pricing (USD)</span><a class="headerlink" href="#id52" title="Link to this table">#</a></caption>
<tbody>
<tr class="row-odd"><td><p>Quantity</p></td>
<td><p>1</p></td>
<td><p>10</p></td>
<td><p>100</p></td>
<td><p>1000</p></td>
<td><p>10,000</p></td>
</tr>
<tr class="row-even"><td><p>Per unit</p></td>
<td><p>$12.12</p></td>
<td><p>$7.30</p></td>
<td><p>$3.86</p></td>
<td><p>$2.84</p></td>
<td><p>$2.84</p></td>
</tr>
<tr class="row-odd"><td><p>Total</p></td>
<td><p>$12.12</p></td>
<td><p>$73.00</p></td>
<td><p>$386.00</p></td>
<td><p>$2,840.00</p></td>
<td><p>$28,400.00</p></td>
</tr>
</tbody>
</table>
</div>
<p>To enable more cape developers to launch their designs to the market, CircuitHub has
launched a <a class="reference external" href="https://hackaday.com/2014/11/13/circuithub-launches-group-buy-crowdsourcing-campaigns/">group buy campaign site</a>. You, as a cape developer,
can choose how much markup you need to be paid for your work and launch the campaign to the public.
Money is only collected if and when the desired target quantity is reached, so there’s no risk that
the boards will cost too much to be affordable. This is a great way to cost-effectively launch your boards to market!</p>
<p>There’s no real substitute for getting to know your contract manufacturer, its capabilities,
communication style, strengths, and weaknesses. Look around your town to see if anyone is
doing this type of work and see if they’ll give you a tour.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don’t confuse CircuitHub and CircuitCo. CircuitCo is closed.</p>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../08realtime/realtime.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Real-Time I/O</p>
      </div>
    </a>
    <a class="right-next"
       href="../10parts/parts.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Parts and Suppliers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item"><a role="button" data-bs-toggle="modal" data-bs-target="#todoModal" href="#" id="modalfortodoitems">
    <button type="button" class="btn btn-danger">Outstanding todo items</button>
</a>

<div class="modal fade" id="todoModal" aria-labelledby="todoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title m-0 text-dark" id="todoModalLabel">Outstanding todo items</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div> 
        <div class="modal-body">
            <ul class="list-group list-group-flush" id="todolist">
                <!-- Auto generated for page -->
            </ul>
        </div>
        </div>
    </div>
</div>

<script>

    document.body.appendChild(document.getElementById('todoModal'));
    var modalfortodoitems = document.getElementById('modalfortodoitems');
    var modalfortodoitemsparent = modalfortodoitems.parentNode;
    var todoItems = document.getElementsByClassName('admonition-todo');
    var todolist = document.getElementById('todolist')

    if(todoItems.length == 0 || !todoItems[0].hasAttribute('id')) {
        modalfortodoitemsparent.remove();
    } else  {
        for (var i = 0; i < todoItems.length; ++i) {
            var todoItem = document.createElement('li');
            var link = document.createElement('a');
            link.textContent = todoItems[i].getElementsByTagName('p')[1].innerHTML;
            link.href = '#' + todoItems[i].id;
            link.addEventListener('click', function() {
                // Use Bootstrap's modal method to hide the modal
                const todoModal = document.getElementById('todoModal');
                const modal = bootstrap.Modal.getInstance(todoModal);
                modal.hide();
            });
            todoItem.appendChild(link);
            todoItem.classList.add('list-group-item');
            todolist.appendChild(todoItem);
        }
    }
    
</script></div>

  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#connecting-multiple-capes">Connecting Multiple Capes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#problem">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solution">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lcd-backside">LCD Backside</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#audio-cape-pins">Audio cape pins</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#moving-from-a-breadboard-to-a-protoboard">Moving from a Breadboard to a Protoboard</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Solution</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#beaglebone-breadboard">BeagleBone Breadboard</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-prototype-schematic">Creating a Prototype Schematic</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verifying-your-cape-design">Verifying Your Cape Design</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-the-quickbot-motors-interface-quickbot-motor-test-js">Testing the quickBot motors interface (quickBot_motor_test.js)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#laying-out-your-cape-pcb">Laying Out Your Cape PCB</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-the-board-outline">Customizing the Board Outline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fritzing-tips">Fritzing tips</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pcb-design-alternatives">PCB Design Alternatives</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eagle">EAGLE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">DesignSpark PCB</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#upverter">Upverter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kicad">Kicad</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#migrating-a-fritzing-schematic-to-another-tool">Migrating a Fritzing Schematic to Another Tool</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#producing-a-prototype">Producing a Prototype</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-contents-for-your-cape-configuration-eeprom">Creating Contents for Your Cape Configuration EEPROM</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Solution</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#putting-your-cape-design-into-production">Putting Your Cape Design into Production</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Problem</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Solution</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://openbeagle.org/docs/docs.beagleboard.io/-/edit/main/books/beaglebone-cookbook/09capes/capes.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on OpenBeagle
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../../_sources/books/beaglebone-cookbook/09capes/capes.rst">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
    

    

    

    

    

    

    

    

    

    

    

    
        
        <a role="button" href="/beaglebone-cookbook.pdf" target="_blank">
            <i class="fa-solid fa-download"></i> Download PDF
        </a>
    

    

    

    
</div>

  <div class="sidebar-secondary-item"><a role="button" data-bs-toggle="modal" data-bs-target="#feedbackModal" href="#" onclick="getFeedbackButtonhref(this)">
    <i class="fa-regular fa-message"></i> Provide Feedback
</a>

<div class="modal fade" id="feedbackModal" aria-labelledby="feedbackModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title m-0 text-dark" id="feedbackModalLabel">Feedback</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <div class="btn-group mb-3" role="group" aria-label="Basic radio toggle button group" id="feedbackType"
                    onChange="feedbackHandler()">
                    <input type="radio" class="btn-check" name="feedbackType" id="btnradio1" autocomplete="off"
                        value="Issue">
                    <label class="btn btn-outline-dark shadow-none" for="btnradio1"><i
                            class="fa-solid fa-triangle-exclamation"></i> Issue</label>

                    <input type="radio" class="btn-check" name="feedbackType" id="btnradio2" autocomplete="off"
                        value="Feedback" checked>
                    <label class="btn btn-outline-dark shadow-none" for="btnradio2"><i
                            class="fa-regular fa-message"></i> Feedback</label>

                    <input type="radio" class="btn-check" name="feedbackType" id="btnradio3" autocomplete="off"
                        value="Idea">
                    <label class="btn btn-outline-dark shadow-none" for="btnradio3"><i
                            class="fa-solid fa-lightbulb"></i> Idea</label>
                </div>
                <div class="mb-3">
                    <input type="title" class="form-control bg-light text-dark" id="feedbackModalTitle"
                        placeholder="Title" onChange="feedbackHandler()">
                </div>
                <div class="mb-3">
                    <textarea class="form-control bg-light text-dark" id="feedbackModalDescription" minlength="13"
                        rows="3" placeholder="Description" onChange="feedbackHandler()"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="feedbackClear()">Clear
                    & Close</button>
                <span id="generateLinkButtonTooltip" data-bs-placement="bottom" data-bs-toggle="tooltip">
                    <a href="javascript:void(0);" id="feedbacklink" type="button"
                        class="btn btn-primary disabled text-light">
                        <i class="fa-solid fa-up-right-from-square"></i> Generate OpenBeagle Issue
                    </a>
                </span>
            </div>
        </div>
    </div>
</div>

<script>

    var titleMinLength = 4
    var descriptionMinLength = 12

    document.body.appendChild(document.getElementById('feedbackModal'));

    var generateLinkButtonTooltip = document.getElementById("generateLinkButtonTooltip")
    var link = document.getElementById("feedbacklink")
    var gitlab_project = ""
    var title = document.getElementById("feedbackModalTitle")
    var description = document.getElementById("feedbackModalDescription")
    var generatedFromLink = ""


    title.placeholder = "Title (minimum " + titleMinLength + " characters)"
    description.placeholder = "Description (minimum " + descriptionMinLength + " characters)"

    function feedbackHandler() {
        var type = document.querySelector('input[name="feedbackType"]:checked').value

        if (!gitlab_project.match(/^[a-zA-Z]+:\/\//)) {
            gitlab_project = 'https://' + gitlab_project;
        }

        if (title.value.length >= titleMinLength && description.value.length >= descriptionMinLength) {
            link.target = "_blank"
            link.classList.remove("disabled");
            generateLinkButtonTooltip.title = "You must be logged in to OpenBeagle.org to generate an Issue!"
            link.href = gitlab_project + "/-/issues/new?issue[title]=" + type + ": " + title.value + "&issue[description]=" + description.value + "%0A%0AGenerated from: " + generatedFromLink.replace('#', '%23')
        } else {
            link.classList.add("disabled");
            generateLinkButtonTooltip.title = "Add proper title and description to activate the link!"
        }
    }

    function feedbackClear() {
        title.value = ""
        description.value = ""
        link.href = ""
        link.classList.add("disabled");
    }

    document.addEventListener('DOMContentLoaded', function () {
        const headerlinks = document.getElementsByClassName("headerlink");

        for (let i = 0; i < headerlinks.length; i++) {
            if (headerlinks[i].classList.contains('headerlink-feedback')) {
                continue;
            }

            headerlinks[i].innerHTML = `<i class="fa-solid fa-link"></i>`;
            headerlinks[i].addEventListener('click', function (event) {
                event.preventDefault();
                const link = this.href;
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(link).then(() => {
                        console.log("Link copied to clipboard:", link);
                        this.innerHTML = `<i class="fa-regular fa-square-check"></i>`;
                        setTimeout(() => {
                            this.innerHTML = `<i class="fa-solid fa-link"></i>`;
                        }, 1000);
                    }).catch(err => {
                        console.error("Failed to copy:", err);
                    });
                } else {
                    fallbackCopyText(link, this);
                }
            });

            const feedbackLink = headerlinks[i].cloneNode(true);

            feedbackLink.classList.add('headerlink-feedback');
            feedbackLink.innerHTML = '<i class="fa-regular fa-message"></i>';
            feedbackLink.title = "Provide Feedback";
            feedbackLink.setAttribute("data-bs-toggle", "modal");
            feedbackLink.setAttribute("data-bs-target", "#feedbackModal");
            feedbackLink.setAttribute("onclick", "getFeedbackButtonhref(this)");

            if (headerlinks[i].parentNode) {
                headerlinks[i].parentNode.insertBefore(feedbackLink, headerlinks[i].nextSibling || null);
            }
        }
    });

    function fallbackCopyText(text, element) {
        const textarea = document.createElement("textarea");
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        try {
            document.execCommand("copy");
            element.innerHTML = `<i class="fa-regular fa-square-check"></i>`;
            setTimeout(() => {
                element.innerHTML = `<i class="fa-solid fa-link"></i>`;
            }, 1000);
        } catch (err) {
            console.error("Fallback: Failed to copy:", err);
        }
        document.body.removeChild(textarea);
    }

    function getFeedbackButtonhref(clickedFeedbackLink) {
        generatedFromLink = clickedFeedbackLink.href
        feedbackHandler()
    }

</script></div>

  <div class="sidebar-secondary-item"><a role="button" href="https://forum.beagleboard.org" target="_blank">
    <i class="fa-brands fa-discourse"></i> Discuss on Forum
</a></div>

  <div class="sidebar-secondary-item"><div class="card bg-light mt-4 text-center">
    <div class="card-body">
        <p class="card-text text-dark">
        <a href="https://www.beagleboard.org/" target="_blank">BeagleBoard.org</a> 
        is all about being open, please discuss in public on our 
        <a href="https://forum.beagleboard.org" target="_blank">forum</a>!</p>
    </div>
</div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        


      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, BeagleBoard.org Foundation.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" style="text-decoration:none">
    <img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg"/>
</a></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="last-updated">
  Last updated on Jun 29, 2025.
  <br/>
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>