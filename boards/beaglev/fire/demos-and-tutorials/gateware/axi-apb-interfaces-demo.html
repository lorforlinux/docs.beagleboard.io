
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Accessing APB and AXI Peripherals Through Linux &#8212; BeagleBoard Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../../../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/collapsible-lists/css/tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css?v=5c84f910" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/css/custom.css?v=99f84846" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../../../../_static/collapsible-lists/js/CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../../../../../_static/collapsible-lists/js/apply-collapsible-lists.js?v=660e4f45"></script>
    <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js?v=ffc8af2d"></script>
    <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js?v=12818e64"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'boards/beaglev/fire/demos-and-tutorials/gateware/axi-apb-interfaces-demo';</script>
    <link rel="canonical" href="docs.beagleboard.io/boards/beaglev/fire/demos-and-tutorials/gateware/axi-apb-interfaces-demo.html" />
    <link rel="icon" href="../../../../../_static/boris.svg"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Building Linux for BeagleV-Fire using Buildroot" href="../building-linux-with-buildroot.html" />
    <link rel="prev" title="Comms Cape Gateware for BeagleV-Fire" href="comms-cape-gateware-usage.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="Jun 29, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  

    <!-- Top version and announcement message -->
    <script>
        
    // Function to generate version and announcement banner HTML
    function getBannerHTML() {
        return `
            
            <aside id="bd-header-version-warning" class="d-print-none" aria-label="Version warning">
                <div class="bd-header-announcement__content ms-auto me-auto">
                    <div class="sidebar-message">
                        
                        
                        This is an <strong>unknown version</strong> of docs.
                        
                        <a class="btn text-wrap font-weight-bold ms-3 my-1 align-baseline pst-button-link-to-stable-version" href="https://docs.beagleboard.org">
                            Switch to released version
                        </a>
                    </div>
                </div>
            </aside>
            
            
        `;
    }
    
    // Get the target element where the banners will be added
    const bannerDiv = document.getElementsByClassName('pst-async-banner-revealer')[0];

    // Add version banner and announcement banner if bannerDiv is valid
    if (bannerDiv) {
        bannerDiv.innerHTML = getBannerHTML();
    }
    
    </script>

    
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../../../_static/logo.svg" class="logo__image only-light" alt="BeagleBoard Documentation - Home"/>
    <img src="../../../../../_static/logo.svg" class="logo__image only-dark pst-js-only" alt="BeagleBoard Documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="ms-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../intro/index.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../index.html">
    Boards
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../projects/index.html">
    Projects
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../books/index.html">
    Books
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../accessories/index.html">
    Accessories
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://www.beagleboard.org/about">
    About
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://www.beagleboard.org/donate">
    Donate
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://gsoc.beagleboard.org/">
    GSoC
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://forum.beagleboard.org/c/faq">
    FAQ
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://openbeagle.org/" title="OpenBeagle" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-gitlab fa-lg" aria-hidden="true"></i>
            <span class="sr-only">OpenBeagle</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://docs.beagleboard.org/" title="Docs" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-book fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Docs</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://bbb.io/discord" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://forum.beagleboard.org/" title="Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Forum</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.beagleboard.org" title="BeagleBoard.org" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../../../_static/images/boris.svg" class="icon-link-image" alt="BeagleBoard.org"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  



  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../intro/index.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../index.html">
    Boards
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../projects/index.html">
    Projects
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../books/index.html">
    Books
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../accessories/index.html">
    Accessories
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://www.beagleboard.org/about">
    About
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://www.beagleboard.org/donate">
    Donate
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://gsoc.beagleboard.org/">
    GSoC
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://forum.beagleboard.org/c/faq">
    FAQ
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://openbeagle.org/" title="OpenBeagle" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-gitlab fa-lg" aria-hidden="true"></i>
            <span class="sr-only">OpenBeagle</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://docs.beagleboard.org/" title="Docs" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-book fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Docs</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://bbb.io/discord" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://forum.beagleboard.org/" title="Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Forum</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.beagleboard.org" title="BeagleBoard.org" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../../../_static/images/boris.svg" class="icon-link-image" alt="BeagleBoard.org"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../01-introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../02-quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../03-design.html">Design &amp; specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../04-expansion.html">Expansion</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../05-demos.html">Demos</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="upgrade-gateware.html">Upgrade BeagleV-Fire Gateware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flashing-board.html">Flashing gateware and Linux image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mchp-fpga-tools-installation-guide.html">Microchip FPGA Tools Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html">Gateware Design Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-to-find-out-whats-on-the-board.html">How to retrieve BeagleV-Fire’s gateware version</a></li>
<li class="toctree-l2"><a class="reference internal" href="gateware-full-flow.html">Gateware Full Build Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="gateware-tcl-scripts-structure.html">Gateware TCL Scripts Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="customize-cape-gateware-verilog.html">Customize BeagleV-Fire Cape Gateware Using Verilog</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy-and-program-picorv-softcore.html">How to use PicoRV Softcore on BeagleV-Fire</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-the-bitstream-builder-on-windows.html">How to build the BeagleV-Fire Gateware on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="exploring-gateware-design-libero.html">Exploring Gateware Design with Libero</a></li>
<li class="toctree-l2"><a class="reference internal" href="gateware-design-simulation-libero.html">Simulating Gateware Design with Libero</a></li>
<li class="toctree-l2"><a class="reference internal" href="comms-cape-gateware-usage.html">Comms Cape Gateware for BeagleV-Fire</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Accessing APB and AXI Peripherals Through Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building-linux-with-buildroot.html">Building Linux for BeagleV-Fire using Buildroot</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../06-support.html">Support</a></li>
</ul>
</div>
</nav></div>
        <div class="sidebar-primary-item"><div class="card mb-3">
    <div class="card-header bg-primary text-light fw-bold">
        Why are we doing this?
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            We believe in making computers open again to democratize technology and empower individuals and organizations to explore, experiment, and create without the constraints of proprietary systems.
        </p>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header bg-warning text-dark fw-bold">
        What are we doing?
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            We design versatile and affordable single-board computers to provide developers, hobbyists, and educators with a platform for prototyping, experimentation, and production of embedded systems. Our comprehensive documentation, tutorials, and vibrant online community support users in their projects and foster knowledge sharing.
        </p>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header bg-success text-light fw-bold">
        How are we doing it?
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            Through open-source hardware designs, diverse software support, and active community engagement, we enable users to customize, innovate, and collaborate effortlessly in embedded computing.
        </p>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header bg-dark text-light fw-bold">
        Support us <i class="fa-solid fa-hand-holding-dollar"></i>
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            The BeagleBoard.org Foundation is a Michigan, USA-based 501(c)(3) non-profit corporation existing to provide education in and collaboration around the design and use of open-source software and hardware in embedded computing.
        </p>
    </div>
    <div class="card-footer d-grid gap-2">
        <a href="https://patreon.com/beagleboard" class="btn btn-danger text-light"><i class="fa-brands fa-patreon"></i> Become a Patreon</a>
        <a href="https://github.com/sponsors/beagleboard" class="btn btn-dark text-light"><i class="fa-brands fa-github"></i> Sponsor on GitHub</a>
    </div>
</div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
<script>

document.addEventListener('DOMContentLoaded', () => {
    // Add primary sidebar toggle button
    const primarySidebar = document.getElementById('pst-primary-sidebar');
    if (primarySidebar) {
        addSidebarToggleButton(
            primarySidebar,
            'primary',
            'sidebar-toggle-btn',
            '<i class="fa-solid fa-caret-left"></i>',
            '<i class="fa-solid fa-caret-right"></i>',
            'after'
        );
    }

    // Add secondary sidebar toggle button
    const secondarySidebar = document.getElementById('pst-secondary-sidebar');
    if (secondarySidebar) {
        addSidebarToggleButton(
            secondarySidebar,
            'secondary',
            'sidebar-toggle-btn',
            '<i class="fa-solid fa-caret-right"></i>',
            '<i class="fa-solid fa-caret-left"></i>',
            'before'
        );
    }

    /**
     * Adds a toggle button for a sidebar with visibility and state management.
     * @param {HTMLElement} sidebar - The sidebar element to toggle.
     * @param {string} key - A unique key for localStorage and button id.
     * @param {string} buttonClass - CSS class for the toggle button.
     * @param {string} collapseHTML - HTML for the button when the sidebar is collapsed.
     * @param {string} expandHTML - HTML for the button when the sidebar is expanded.
     * @param {string} position - Position to insert the button ('before' or 'after').
     */
    function addSidebarToggleButton(sidebar, key, buttonClass, collapseHTML, expandHTML, position) {
        const toggleButton = document.createElement('button');
        toggleButton.id = `toggle-${key}-sidebar`;
        toggleButton.innerHTML = sidebar.classList.contains('collapsed') ? expandHTML : collapseHTML;
        toggleButton.className = buttonClass;

        // Insert the toggle button
        if (position === 'before') {
            sidebar.parentNode.insertBefore(toggleButton, sidebar);
        } else if (position === 'after') {
            sidebar.parentNode.insertBefore(toggleButton, sidebar.nextSibling);
        }

        // Restore collapsed state from localStorage
        const collapsedState = localStorage.getItem(`${key}SidebarCollapsed`) === 'true';
        if (collapsedState) {
            sidebar.classList.add('collapsed');
            toggleButton.innerHTML = expandHTML;
        }

        // Handle toggle button click
        toggleButton.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');

            // Update button content and save state
            if (sidebar.classList.contains('collapsed')) {
                toggleButton.innerHTML = expandHTML;
                localStorage.setItem(`${key}SidebarCollapsed`, 'true');
            } else {
                toggleButton.innerHTML = collapseHTML;
                localStorage.setItem(`${key}SidebarCollapsed`, 'false');
            }
        });

        // Check visibility of the toggle button
        function checkToggleVisibility() {
            const existingToggleButton = document.querySelector(
                `.pst-navbar-icon.sidebar-toggle.${key}-toggle`
            );
            if (existingToggleButton && existingToggleButton.offsetParent !== null) {
                toggleButton.style.display = 'none'; // Hide custom toggle button
            } else {
                toggleButton.style.display = 'block'; // Show custom toggle button
            }
        }

        // Update button visibility if the sidebar is removed
        function updateButtonVisibility() {
            if (window.getComputedStyle(sidebar).display === 'none') {
                toggleButton.remove(); // Remove button if sidebar is hidden
            } else if (!document.querySelector(`#toggle-${key}-sidebar`)) {
                // Re-add the button if missing
                if (position === 'before') {
                    sidebar.parentNode.insertBefore(toggleButton, sidebar);
                } else if (position === 'after') {
                    sidebar.parentNode.insertBefore(toggleButton, sidebar.nextSibling);
                }
            }
        }

        // Initial visibility check
        checkToggleVisibility();
        updateButtonVisibility();

        // Monitor window resize for dynamic button visibility updates
        window.addEventListener('resize', () => {
            checkToggleVisibility();
            updateButtonVisibility();
        });
    }
});

</script>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../../../index.html" class="nav-link">Boards</a></li>
    
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">BeagleV-Fire</a></li>
    
    
    <li class="breadcrumb-item"><a href="../../05-demos.html" class="nav-link">Demos</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Accessing APB and AXI Peripherals Through Linux</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="accessing-apb-and-axi-peripherals-through-linux">
<span id="beaglev-fire-axi-apb-interfaces-demo"></span><h1>Accessing APB and AXI Peripherals Through Linux<a class="headerlink" href="#accessing-apb-and-axi-peripherals-through-linux" title="Link to this heading">#</a></h1>
<section id="axi">
<h2>AXI<a class="headerlink" href="#axi" title="Link to this heading">#</a></h2>
<div class="line-block">
<div class="line"><a class="reference external" href="https://developer.arm.com/documentation/ihi0022/latest/">AXI</a> is part of the <a class="reference external" href="https://developer.arm.com/Architectures/AMBA">ARM AMBA</a> (Advanced Microcontroller Bus Architecture) protocol family.</div>
<div class="line">It is designed for high-performance, high-frequency system-on-chip (SoC) designs.</div>
<div class="line">AXI provides high-speed data transfer with minimal latency and is widely used in various applications, including high-end embedded systems and complex digital circuits.</div>
</div>
</section>
<section id="apb">
<h2>APB<a class="headerlink" href="#apb" title="Link to this heading">#</a></h2>
<div class="line-block">
<div class="line"><a class="reference external" href="https://developer.arm.com/documentation/ihi0024/latest/">APB</a> is also part of the ARM AMBA protocol family, designed for low-power and low-latency communication with peripheral devices.</div>
<div class="line">It is simpler and lower performance compared to AXI, making it suitable for slower peripheral devices. An APB peripheral also consumes less resources on the FPGA fabric compared to an AXI peripheral.</div>
</div>
</section>
<section id="accessing-axi-and-apb-peripherals-from-linux">
<h2>Accessing AXI and APB Peripherals from Linux<a class="headerlink" href="#accessing-axi-and-apb-peripherals-from-linux" title="Link to this heading">#</a></h2>
<div class="line-block">
<div class="line">To access AXI and APB peripherals from Linux, memory-mapped I/O (MMIO) is commonly used.</div>
<div class="line">This involves mapping the physical addresses of the peripherals into the virtual address space of a user-space application.</div>
<div class="line">The following sections demonstrate how to access APB peripherals using the Linux <code class="docutils literal notranslate"><span class="pre">/dev/mem</span></code> interface and AXI peripherals using the UIO (Userspace I/O) framework.</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The codes for accessing the interfaces are available in the snippets here: <a class="reference external" href="https://openbeagle.org/-/snippets/13">APB Interfaces</a> and <a class="reference external" href="https://openbeagle.org/-/snippets/11">AXI Interfaces</a></p>
</div>
<section id="id3">
<h3>APB Interfaces<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<div class="line-block">
<div class="line">The MSS includes fabric interfaces for interfacing FPGA fabric with the CPU Core Complex.</div>
<div class="line">It provides one 32-bit APB master interface, FIC3, and can be connected to a slave in the fabric.</div>
</div>
<section id="design-details">
<h4>Design Details<a class="headerlink" href="#design-details" title="Link to this heading">#</a></h4>
<p>For this example, you can try to write to the APB slave present in the Verilog Tutorial Cape gateware.
Select the gateware by changing <cite>custom-fpga-design/my_custom_fpga_design.yaml</cite> to include <code class="docutils literal notranslate"><span class="pre">VERILOG_TUTORIAL</span></code> as the cape option.</p>
<p>The APB Slave has two registers, one read-only register at <code class="docutils literal notranslate"><span class="pre">0x00</span></code>, one read-write register at <code class="docutils literal notranslate"><span class="pre">0x10</span></code>, and a status register containing the last read value at <code class="docutils literal notranslate"><span class="pre">0x20</span></code>.</p>
<div class="line-block">
<div class="line">Having a look at the design, we can see that the APB slave is connected with a CoreAPB3 interconnect, which assigns it the <code class="docutils literal notranslate"><span class="pre">0xXX10_0000</span></code> address, the top two bits being ignored.</div>
<div class="line">Tracing to the master connected with the CoreAPB3 device, we can see that another interconnect is present, which gives our slave the <code class="docutils literal notranslate"><span class="pre">0xX100_0000</span></code> address.</div>
<div class="line">The polarfire technical manual shows that FIC3 peripherals can start from the <code class="docutils literal notranslate"><span class="pre">0x4000_0000</span></code> address.</div>
<div class="line">Therefore, the final address of our APB slave becomes <code class="docutils literal notranslate"><span class="pre">0x4110_0000</span></code>.</div>
</div>
<p>Now, we shall access this address through a memory-mapped interface in Linux.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<div class="line-block">
<div class="line">The following paragraphs will present to you several ways to test APB/AXI traffic.</div>
<div class="line">Normally, this isn’t harmful, but reading/writing to addresses</div>
<div class="line">with no gateware behind it <strong>will</strong> lead to you stalling a CPU.</div>
<div class="line">In rare cases, this stalling of a CPU <em>can</em> lead to loss of content on your eMMC,</div>
<div class="line">so please make sure you have a known good backup!</div>
<div class="line">For more information about the stalls, please read the section <a class="reference internal" href="#issues-with-axi-apb"><span class="std std-ref">on issues faced with the interfaces</span></a>.</div>
</div>
</div>
</section>
<section id="accessing-the-interface">
<h4>Accessing the Interface<a class="headerlink" href="#accessing-the-interface" title="Link to this heading">#</a></h4>
<p>There are two ways to access such registers. One can use the <cite>devmem2</cite> utility or write a C program for accessing the memory region.
The first method is quite simple.</p>
<ol class="arabic">
<li><p>To read from a register:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>devmem2<span class="w"> </span>0x41100000<span class="w"> </span>w
</pre></div>
</div>
</li>
<li><p>To write to a register:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>devmem2<span class="w"> </span>0x41100010<span class="w"> </span>w<span class="w"> </span>0x1
</pre></div>
</div>
</li>
</ol>
<p>In the second method, we can use the <code class="docutils literal notranslate"><span class="pre">/dev/mem</span></code> interface to access the registers inside the APB Slave.
Here is an example C program which demonstrates this:</p>
<script src="https://openbeagle.org/-/snippets/13.js"></script></section>
</section>
<section id="id4">
<h3>AXI Interfaces<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>The MSS includes three 64-bit AXI FICs out of which FIC0 is used for data transfers to/from the fabric.
FIC0 is connected as both master and slave. For usage of AXI peripherals, an example is also provided by microchip
in their <a class="reference external" href="https://github.com/polarfire-soc/polarfire-soc-linux-examples">Polarfire SoC Linux examples</a>. The example here takes reference from
the <a class="reference external" href="https://github.com/polarfire-soc/polarfire-soc-linux-examples/tree/master/fpga-fabric-interfaces/lsram">AXI LSRAM example</a>.</p>
<section id="id5">
<h4>Design Details<a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<div class="line-block">
<div class="line">A simple design can be created by first connecting the FIC0 Initiator from the MSS to a <a class="reference external" href="https://www.microchip.com/en-us/products/fpgas-and-plds/ip-core-tools/coreaxi4interconnect">CoreAXI4Interconnect</a>.</div>
<div class="line">Now, you can connect an AXI slave to this interconnect. We will be using the Polarfire AXI LSRAM.</div>
<div class="line"><br /></div>
<div class="line">Both the CoreAXI4Interconnect and the PF AXI LSRAM will have to be configured.</div>
<div class="line">The AXI ID Width of both the modules will have to be matched, as well as the address space of the only slave will have to be configured.</div>
<div class="line">In this example, LSRAM gets an address of <cite>0x6000_0000</cite> to <cite>0x6000_ffff</cite>, and the AWID is kept at 9 bits.</div>
</div>
<figure class="align-default" id="id6">
<a class="reference internal image-reference" href="../../../../../_images/axi-slave-demo.png"><img alt="AXI LSRAM slave" src="../../../../../_images/axi-slave-demo.png" style="width: 1040px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 607 </span><span class="caption-text">AXI LSRAM slave (example design)</span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Finally, an entry will be added to the device tree to make a UIO device point to our LSRAM’s memory region.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&amp;{/} {
    fabric-bus@40000000 {
        fpgalsram: uio@60000000 {
            compatible = &quot;generic-uio&quot;;
            linux,uio-name = &quot;fpga_lsram&quot;; // mandatory for program. If changed, please update program as well.
            reg = &lt;0x0 0x60000000 0x0 0x1000&gt;;
            status = &quot;enabled&quot;;
        };
    };
};
</pre></div>
</div>
<p>Once the gateware is compiled, we can access the memory-mapped interface by the same methods, and by the UIO device as well.</p>
<ol class="arabic simple">
<li><p>Using devmem2:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>devmem2<span class="w"> </span>0x60000000<span class="w"> </span>w<span class="w"> </span><span class="c1"># for read</span>
sudo<span class="w"> </span>devmem2<span class="w"> </span>0x60000000<span class="w"> </span>w<span class="w"> </span>0x1<span class="w"> </span><span class="c1"># for write</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Using the UIO device:</p></li>
</ol>
<script src="https://openbeagle.org/-/snippets/11.js"></script></section>
</section>
<section id="issues-that-can-be-faced-when-using-an-improperly-configured-axi-apb-interface">
<span id="issues-with-axi-apb"></span><h3>Issues that can be faced when using an improperly configured AXI/APB interface<a class="headerlink" href="#issues-that-can-be-faced-when-using-an-improperly-configured-axi-apb-interface" title="Link to this heading">#</a></h3>
<p>A CPU stall can be faced when accessing the FIC interfaces without any slaves connected to the memory region being accessed.
Your BVF will stop responding if connected to SSH, and on serial you will see the following kernel messages:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="w">   </span><span class="m">24</span>.110099<span class="o">]</span><span class="w"> </span>rcu:<span class="w"> </span>INFO:<span class="w"> </span>rcu_sched<span class="w"> </span>detected<span class="w"> </span>stalls<span class="w"> </span>on<span class="w"> </span>CPUs/tasks:
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.116041<span class="o">]</span><span class="w"> </span>rcu:<span class="w">     </span><span class="m">0</span>-...0:<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>GPs<span class="w"> </span>behind<span class="o">)</span><span class="w"> </span><span class="nv">idle</span><span class="o">=</span>e00c/0/0x1<span class="w"> </span><span class="nv">softirq</span><span class="o">=</span><span class="m">40</span>/41<span class="w"> </span><span class="nv">fqs</span><span class="o">=</span><span class="m">2626</span>
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.123377<span class="o">]</span><span class="w">     </span><span class="o">(</span>detected<span class="w"> </span>by<span class="w"> </span><span class="m">3</span>,<span class="w"> </span><span class="nv">t</span><span class="o">=</span><span class="m">5255</span><span class="w"> </span>jiffies,<span class="w"> </span><span class="nv">g</span><span class="o">=</span>-1131,<span class="w"> </span><span class="nv">q</span><span class="o">=</span><span class="m">9</span><span class="w"> </span><span class="nv">ncpus</span><span class="o">=</span><span class="m">4</span><span class="o">)</span>
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.129573<span class="o">]</span><span class="w"> </span>Task<span class="w"> </span>dump<span class="w"> </span><span class="k">for</span><span class="w"> </span>CPU<span class="w"> </span><span class="m">0</span>:
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.132810<span class="o">]</span><span class="w"> </span>task:swapper/0<span class="w">       </span>state:R<span class="w">  </span>running<span class="w"> </span>task<span class="w">     </span>stack:0<span class="w">     </span>pid:0<span class="w">     </span>ppid:0<span class="w">      </span>flags:0x00000008
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.142757<span class="o">]</span><span class="w"> </span>Call<span class="w"> </span>Trace:
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.145213<span class="o">]</span><span class="w"> </span><span class="o">[</span>&lt;ffffffff80a67ba0&gt;<span class="o">]</span><span class="w"> </span>__schedule+0x27c/0x834
</pre></div>
</div>
<p>If this happens, please double check your design. Specifically, check the address configured for the slaves, the AXI ID wire width and other AXI parameters.</p>
<p>In any case, this state is virtually impossible to recover from gracefully, so the <strong>reset</strong> button may be your last resort.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="comms-cape-gateware-usage.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Comms Cape Gateware for BeagleV-Fire</p>
      </div>
    </a>
    <a class="right-next"
       href="../building-linux-with-buildroot.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Building Linux for BeagleV-Fire using Buildroot</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item"><a role="button" data-bs-toggle="modal" data-bs-target="#todoModal" href="#" id="modalfortodoitems">
    <button type="button" class="btn btn-danger">Outstanding todo items</button>
</a>

<div class="modal fade" id="todoModal" aria-labelledby="todoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title m-0 text-dark" id="todoModalLabel">Outstanding todo items</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div> 
        <div class="modal-body">
            <ul class="list-group list-group-flush" id="todolist">
                <!-- Auto generated for page -->
            </ul>
        </div>
        </div>
    </div>
</div>

<script>

    document.body.appendChild(document.getElementById('todoModal'));
    var modalfortodoitems = document.getElementById('modalfortodoitems');
    var modalfortodoitemsparent = modalfortodoitems.parentNode;
    var todoItems = document.getElementsByClassName('admonition-todo');
    var todolist = document.getElementById('todolist')

    if(todoItems.length == 0 || !todoItems[0].hasAttribute('id')) {
        modalfortodoitemsparent.remove();
    } else  {
        for (var i = 0; i < todoItems.length; ++i) {
            var todoItem = document.createElement('li');
            var link = document.createElement('a');
            link.textContent = todoItems[i].getElementsByTagName('p')[1].innerHTML;
            link.href = '#' + todoItems[i].id;
            link.addEventListener('click', function() {
                // Use Bootstrap's modal method to hide the modal
                const todoModal = document.getElementById('todoModal');
                const modal = bootstrap.Modal.getInstance(todoModal);
                modal.hide();
            });
            todoItem.appendChild(link);
            todoItem.classList.add('list-group-item');
            todolist.appendChild(todoItem);
        }
    }
    
</script></div>

  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#axi">AXI</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apb">APB</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-axi-and-apb-peripherals-from-linux">Accessing AXI and APB Peripherals from Linux</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">APB Interfaces</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#design-details">Design Details</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-the-interface">Accessing the Interface</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">AXI Interfaces</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Design Details</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#issues-that-can-be-faced-when-using-an-improperly-configured-axi-apb-interface">Issues that can be faced when using an improperly configured AXI/APB interface</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://openbeagle.org/docs/docs.beagleboard.io/-/edit/main/boards/beaglev/fire/demos-and-tutorials/gateware/axi-apb-interfaces-demo.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on OpenBeagle
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../../../../_sources/boards/beaglev/fire/demos-and-tutorials/gateware/axi-apb-interfaces-demo.rst">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
    

    

    

    

    

    

    

    
        
        <a role="button" href="/beaglev-fire.pdf" target="_blank">
            <i class="fa-solid fa-download"></i> Download PDF
        </a>
    

    

    

    

    

    

    

    
</div>

  <div class="sidebar-secondary-item"><a role="button" data-bs-toggle="modal" data-bs-target="#feedbackModal" href="#" onclick="getFeedbackButtonhref(this)">
    <i class="fa-regular fa-message"></i> Provide Feedback
</a>

<div class="modal fade" id="feedbackModal" aria-labelledby="feedbackModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title m-0 text-dark" id="feedbackModalLabel">Feedback</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <div class="btn-group mb-3" role="group" aria-label="Basic radio toggle button group" id="feedbackType"
                    onChange="feedbackHandler()">
                    <input type="radio" class="btn-check" name="feedbackType" id="btnradio1" autocomplete="off"
                        value="Issue">
                    <label class="btn btn-outline-dark shadow-none" for="btnradio1"><i
                            class="fa-solid fa-triangle-exclamation"></i> Issue</label>

                    <input type="radio" class="btn-check" name="feedbackType" id="btnradio2" autocomplete="off"
                        value="Feedback" checked>
                    <label class="btn btn-outline-dark shadow-none" for="btnradio2"><i
                            class="fa-regular fa-message"></i> Feedback</label>

                    <input type="radio" class="btn-check" name="feedbackType" id="btnradio3" autocomplete="off"
                        value="Idea">
                    <label class="btn btn-outline-dark shadow-none" for="btnradio3"><i
                            class="fa-solid fa-lightbulb"></i> Idea</label>
                </div>
                <div class="mb-3">
                    <input type="title" class="form-control bg-light text-dark" id="feedbackModalTitle"
                        placeholder="Title" onChange="feedbackHandler()">
                </div>
                <div class="mb-3">
                    <textarea class="form-control bg-light text-dark" id="feedbackModalDescription" minlength="13"
                        rows="3" placeholder="Description" onChange="feedbackHandler()"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="feedbackClear()">Clear
                    & Close</button>
                <span id="generateLinkButtonTooltip" data-bs-placement="bottom" data-bs-toggle="tooltip">
                    <a href="javascript:void(0);" id="feedbacklink" type="button"
                        class="btn btn-primary disabled text-light">
                        <i class="fa-solid fa-up-right-from-square"></i> Generate OpenBeagle Issue
                    </a>
                </span>
            </div>
        </div>
    </div>
</div>

<script>

    var titleMinLength = 4
    var descriptionMinLength = 12

    document.body.appendChild(document.getElementById('feedbackModal'));

    var generateLinkButtonTooltip = document.getElementById("generateLinkButtonTooltip")
    var link = document.getElementById("feedbacklink")
    var gitlab_project = ""
    var title = document.getElementById("feedbackModalTitle")
    var description = document.getElementById("feedbackModalDescription")
    var generatedFromLink = ""


    title.placeholder = "Title (minimum " + titleMinLength + " characters)"
    description.placeholder = "Description (minimum " + descriptionMinLength + " characters)"

    function feedbackHandler() {
        var type = document.querySelector('input[name="feedbackType"]:checked').value

        if (!gitlab_project.match(/^[a-zA-Z]+:\/\//)) {
            gitlab_project = 'https://' + gitlab_project;
        }

        if (title.value.length >= titleMinLength && description.value.length >= descriptionMinLength) {
            link.target = "_blank"
            link.classList.remove("disabled");
            generateLinkButtonTooltip.title = "You must be logged in to OpenBeagle.org to generate an Issue!"
            link.href = gitlab_project + "/-/issues/new?issue[title]=" + type + ": " + title.value + "&issue[description]=" + description.value + "%0A%0AGenerated from: " + generatedFromLink.replace('#', '%23')
        } else {
            link.classList.add("disabled");
            generateLinkButtonTooltip.title = "Add proper title and description to activate the link!"
        }
    }

    function feedbackClear() {
        title.value = ""
        description.value = ""
        link.href = ""
        link.classList.add("disabled");
    }

    document.addEventListener('DOMContentLoaded', function () {
        const headerlinks = document.getElementsByClassName("headerlink");

        for (let i = 0; i < headerlinks.length; i++) {
            if (headerlinks[i].classList.contains('headerlink-feedback')) {
                continue;
            }

            headerlinks[i].innerHTML = `<i class="fa-solid fa-link"></i>`;
            headerlinks[i].addEventListener('click', function (event) {
                event.preventDefault();
                const link = this.href;
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(link).then(() => {
                        console.log("Link copied to clipboard:", link);
                        this.innerHTML = `<i class="fa-regular fa-square-check"></i>`;
                        setTimeout(() => {
                            this.innerHTML = `<i class="fa-solid fa-link"></i>`;
                        }, 1000);
                    }).catch(err => {
                        console.error("Failed to copy:", err);
                    });
                } else {
                    fallbackCopyText(link, this);
                }
            });

            const feedbackLink = headerlinks[i].cloneNode(true);

            feedbackLink.classList.add('headerlink-feedback');
            feedbackLink.innerHTML = '<i class="fa-regular fa-message"></i>';
            feedbackLink.title = "Provide Feedback";
            feedbackLink.setAttribute("data-bs-toggle", "modal");
            feedbackLink.setAttribute("data-bs-target", "#feedbackModal");
            feedbackLink.setAttribute("onclick", "getFeedbackButtonhref(this)");

            if (headerlinks[i].parentNode) {
                headerlinks[i].parentNode.insertBefore(feedbackLink, headerlinks[i].nextSibling || null);
            }
        }
    });

    function fallbackCopyText(text, element) {
        const textarea = document.createElement("textarea");
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        try {
            document.execCommand("copy");
            element.innerHTML = `<i class="fa-regular fa-square-check"></i>`;
            setTimeout(() => {
                element.innerHTML = `<i class="fa-solid fa-link"></i>`;
            }, 1000);
        } catch (err) {
            console.error("Fallback: Failed to copy:", err);
        }
        document.body.removeChild(textarea);
    }

    function getFeedbackButtonhref(clickedFeedbackLink) {
        generatedFromLink = clickedFeedbackLink.href
        feedbackHandler()
    }

</script></div>

  <div class="sidebar-secondary-item"><a role="button" href="https://forum.beagleboard.org" target="_blank">
    <i class="fa-brands fa-discourse"></i> Discuss on Forum
</a></div>

  <div class="sidebar-secondary-item">
    

    

    

    

    

    

    

    
        <a role="button" data-bs-toggle="modal" data-bs-target="#licenseTerms" href="#">
            <i class="fa-regular fa-rectangle-list"></i> License Terms
        </a>

        <div class="modal fade" id="licenseTerms" aria-labelledby="licenseTermsLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title m-0 text-dark" id="licenseTermsLabel">BeagleV-Fire - License Terms</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div> 
                <div class="modal-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a></li>
                        <li class="list-group-item">Design materials and license can be found in the <a href="https://openbeagle.org/beaglev-fire/beaglev-fire">BeagleV-Fire git repository</a></li>
                        <li class="list-group-item">Use of the boards or design materials constitutes an agreement to the <a href="/boards/terms-and-conditions.html">Terms & Conditions</a></li>
                        <li class="list-group-item">Software images and purchase links available on the <a href="https://www.beagleboard.org/boards/beaglev-fire">BeagleV-Fire board page</a></li>
                        <li class="list-group-item">For export, emissions and other compliance, see <a href="/boards/beaglev/fire/06-support.html">Support Information</a></li>
                        <li class="list-group-item">All support for this design is through BeagleBoard.org community at <a href="https://forum.beagleboard.org/tag/fire">BeagleBoard.org forum.</a></li>
                    </ul>
                </div>
                </div>
            </div>
        </div>

        <script>
            document.body.appendChild(document.getElementById('licenseTerms'));
        </script>
    

    

    

    
</div>

  <div class="sidebar-secondary-item"><div class="card bg-light mt-4 text-center">
    <div class="card-body">
        <p class="card-text text-dark">
        <a href="https://www.beagleboard.org/" target="_blank">BeagleBoard.org</a> 
        is all about being open, please discuss in public on our 
        <a href="https://forum.beagleboard.org" target="_blank">forum</a>!</p>
    </div>
</div></div>

  <div class="sidebar-secondary-item">

















<div class="card bg-light mt-4 text-center">
    <div class="card-header">
        BeagleV Fire
    </div>
    <div class="card-body">
        <p class="card-text text-dark">
            <a href="https://certification.oshwa.org/us002572.html" target="_blank">
                
                <img src="../../../../_static/images/oshw/BeagleV Fire_US002572.svg" alt="BeagleV Fire OSHW mark" />
                
            </a>
        </p>
    </div>
</div>





</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        


      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../../../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, BeagleBoard.org Foundation.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" style="text-decoration:none">
    <img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg"/>
</a></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="last-updated">
  Last updated on Jun 29, 2025.
  <br/>
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>